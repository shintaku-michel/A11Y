import{h as l,H as g,a as x,r as m,b as y}from"./index-LoHcnw1D.js";import{l as _}from"./logger-CZkdJRkw-MPb1Or3y.js";import{g as b}from"./getUniqueId-BY09qPiz-DUBCreeJ.js";import{t as f}from"./testAttributes-DKpd2q2s-Dszh0m65.js";var p=function(s,i,e,t){function o(r){return r instanceof e?r:new e(function(n){n(r)})}return new(e||(e=Promise))(function(r,n){function d(u){try{a(t.next(u))}catch(v){n(v)}}function c(u){try{a(t.throw(u))}catch(v){n(v)}}function a(u){u.done?r(u.value):o(u.value).then(d,c)}a((t=t.apply(s,i||[])).next())})},h=function(s,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,o,r,n;return n={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function d(a){return function(u){return c([a,u])}}function c(a){if(t)throw new TypeError("Generator is already executing.");for(;n&&(n=0,a[0]&&(e=0)),e;)try{if(t=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=i.call(s,e)}catch(u){a=[6,u],o=0}finally{t=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},w=function(s,i,e){if(e||arguments.length===2)for(var t=0,o=i.length,r;t<o;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return s.concat(r||Array.prototype.slice.call(i))},k='[data-alc-theme="light"] alc-input-file{--text-color-label:var(--alc-color-text-0);--text-color:var(--alc-color-text-1);--shadow-color:var(--alc-color-neutral-5);--outline-color:var(--alc-color-action-60);--border-color:var(--alc-color-neutral-60);--border-color-hover:var(--alc-color-action-60);--border-color-focus:var(--alc-color-action-20);--bg-color-disabled:var(--alc-color-neutral-10);--border-color-disabled:var(--alc-color-neutral-40);--text-color-disabled:var(--alc-color-text-4)}[data-alc-theme="dark"] alc-input-file{--text-color-label:var(--alc-color-text-0);--text-color:var(--alc-color-text-1);--shadow-color:var(--alc-color-neutral-80);--outline-color:var(--alc-color-action-30);--border-color:var(--alc-color-neutral-30);--border-color-hover:var(--alc-color-action-40);--border-color-focus:var(--alc-color-action-70);--bg-color-disabled:var(--alc-color-neutral-80);--border-color-disabled:var(--alc-color-neutral-50);--text-color-disabled:var(--alc-color-text-4)}.alc-input-file__field{display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column}.alc-input-file__text-button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:0.5rem;font-size:1rem;line-height:1.5rem}.alc-input-file__content{margin-top:0.5rem;display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;gap:0.5rem}.alc-input-file__file{display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;border-radius:0.25rem;background-color:var(--alc-color-layer-b);padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem;color:var(--text-color)}.alc-input-file__file span{overflow-wrap:break-word}.alc-input-file__text{font-size:0.875rem;color:var(--alc-color-text-4)}.alc-input-file__label{color:var(--text-color-label)}.alc-input-file__input{display:none}.alc-input-file__input-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.alc-input-file__input-wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.alc-input-file__icon{pointer-events:none;position:absolute;left:0.75rem;top:50%;--tw-translate-y:-50%;-webkit-transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}input[type=text].alc-input-file__text-input{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.75rem;padding-right:4rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-height:2.5rem;--tw-shadow:inset 0 2px 4px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:var(--shadow-color);--tw-shadow:var(--tw-shadow-colored);transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms}input[type=text].alc-input-file__text-input::-moz-placeholder{color:var(--text-color-placeholder)}input[type=text].alc-input-file__text-input::-webkit-input-placeholder{color:var(--text-color-placeholder)}input[type=text].alc-input-file__text-input:-ms-input-placeholder{color:var(--text-color-placeholder)}input[type=text].alc-input-file__text-input::-ms-input-placeholder{color:var(--text-color-placeholder)}input[type=text].alc-input-file__text-input::placeholder{color:var(--text-color-placeholder)}.alc-input-file__input-wrapper--with-icon input[type=text].alc-input-file__text-input{padding-left:2.5rem;}input[type=text].alc-input-file__text-input:focus{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:var(--outline-color);--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.alc-input-file__text-input:disabled{border-color:var(--border-color-disabled);background-color:var(--bg-color-disabled);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);cursor:not-allowed;color:var(--text-color-disabled)}.alc-input-file__text-input:disabled:hover{border-color:var(--border-color-disabled)}.alc-input-file__remove-button{position:absolute;top:50%;right:0.5rem;height:2rem;width:2rem;--tw-translate-y:-50%;-webkit-transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));cursor:pointer;border-radius:9999px;border-width:0px;background-color:transparent;padding:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.alc-input-file__remove-button:hover,.alc-input-file__remove-button:focus{background-color:var(--alc-color-layer-b);outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:var(--alc-color-primary)}.alc-input-file__remove-button alc-icon{pointer-events:none}.alc-input-file__info{margin-top:0.25rem;text-align:right;font-size:0.875rem;line-height:1rem;color:var(--alc-color-text-4)}.alc-input-file__dropzone{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:0.5rem;background-color:var(--alc-color-layer-b);padding:1rem;color:var(--text-color);cursor:pointer;border-radius:0.25rem;border-width:2px;border-style:dashed;border-color:var(--alc-color-neutral-40);transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:200ms;transition-duration:200ms}.alc-input-file__dropzone:focus{outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:var(--outline-color);--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);border-color:var(--border-color-hover)}.alc-input-file__dropzone:hover{border-color:var(--border-color-hover)}.alc-input-file__dropzone--dragover{border-color:var(--alc-color-primary);background-color:var(--alc-color-neutral-20)}.alc-input-file__dropzone--disabled{cursor:not-allowed;opacity:0.6}.alc-input-file__dropzone-text{text-align:center;font-size:1rem;line-height:1.5rem}.alc-input-file__dropzone.alc-field__input--error{border-color:var(--border-color-error)}.alc-button.alc-field__input--error{border-width:1px;border-color:var(--border-color-error)}@media (max-width: 600px){.alc-input-file__file{-ms-flex-align:start;align-items:flex-start}.alc-input-file__info{text-align:left}}',z=function(){function s(i){var e=this;m(this,i),this.alcFileSelected=y(this,"alc-file-selected",7),this.idInputFilePolite=null,this.idLabel=null,this.idDropzoneText=null,this.multiple=!1,this.accept="*/*",this.disabled=!1,this.required=!1,this.buttonType=void 0,this.mode="button",this.files=[],this.maxInputTextLength=50,this.renderFiles=function(){return e.files.map(function(t){return l("div",Object.assign({class:"alc-input-file__file"},f()),l("span",null,t.name," (",e.formatFileSize(t.size),")"),l("button",Object.assign({class:"alc-button alc-button-rounded",onClick:function(){return e.handleRemove(t)},"aria-label":"Remover arquivo ".concat(t.name)},f()),l("alc-icon",{name:"x",label:"Apagar"})))})},this.renderFileInfo=function(){var t=e.files.reduce(function(d,c){return d+c.size},0),o=e.formatFileSize(t),r=e.files.length,n=r===1?"arquivo":"arquivos";return l("span",Object.assign({},f()),"".concat(r," ").concat(n," (").concat(o," no total)"))},this.renderPolite=function(){var t="Nenhum arquivo selecionado.";if(e.files.length===1&&(t="Arquivo selecionado: "+e.files[0].name),e.files.length>1){var o=e.files.map(function(r){return r.name}).join("; ");t=e.files.length+" arquivos selecionados: "+o}return l("span",{"aria-live":"polite",class:"sr-only",id:e.idInputFilePolite,role:"status"},t)},this.invokeFileInput=function(){var t=e.el.querySelector("#"+e.idInput);t.click()},this.handleRemove=function(t){e.files=e.files.filter(function(n){return n!==t});var o=new DataTransfer;e.files.forEach(function(n){return o.items.add(n)});var r=e.el.querySelector("#"+e.idInput);r.files=o.files,e.readFilesAndEmitEvent(e.files)},this.handleRemoveAll=function(){e.files=[];var t=e.el.querySelector("#"+e.idInput);t.value="",e.alcFileSelected.emit({files:[]})},this.handleDrop=function(t){var o;if(t.preventDefault(),t.stopPropagation(),!e.disabled){var r=(o=t.dataTransfer)===null||o===void 0?void 0:o.files;if(r&&r.length>0){var n=Array.from(r);e.multiple?e.files=w(w([],e.files,!0),n,!0):e.files=[n[0]];var d=new DataTransfer;e.files.forEach(function(a){return d.items.add(a)});var c=e.el.querySelector("#"+e.idInput);c.files=d.files,e.readFilesAndEmitEvent(e.files)}}},this.handleDragOver=function(t){t.preventDefault(),t.stopPropagation()},this.handleDragEnter=function(t){if(t.preventDefault(),t.stopPropagation(),!e.disabled){var o=t.currentTarget;o.classList.add("alc-input-file__dropzone--dragover")}},this.handleDragLeave=function(t){if(t.preventDefault(),t.stopPropagation(),!e.disabled){var o=t.currentTarget;o.classList.remove("alc-input-file__dropzone--dragover")}}}return s.prototype.getFiles=function(){return p(this,void 0,void 0,function(){var i,e,t,o=this;return h(this,function(r){switch(r.label){case 0:return i=this.el.querySelector("#"+this.idInput),e=Array.from(i.files||[]),[4,Promise.all(e.map(function(n){return p(o,void 0,void 0,function(){var d;return h(this,function(c){switch(c.label){case 0:return[4,n.arrayBuffer()];case 1:return d=c.sent(),[2,{file:n,content:d}]}})})}))];case 1:return t=r.sent(),[2,t]}})})},s.prototype.clear=function(){return p(this,void 0,void 0,function(){var i;return h(this,function(e){return this.files=[],i=this.el.querySelector("#"+this.idInput),i.value="",[2]})})},s.prototype.handleFileChange=function(i){var e=i.target,t=Array.from(e.files||[]);this.files=t,this.readFilesAndEmitEvent(t)},s.prototype.readFilesAndEmitEvent=function(i){return p(this,void 0,void 0,function(){var e,t=this;return h(this,function(o){switch(o.label){case 0:return[4,Promise.all(i.map(function(r){return p(t,void 0,void 0,function(){var n;return h(this,function(d){switch(d.label){case 0:return[4,r.arrayBuffer()];case 1:return n=d.sent(),[2,{file:r,content:n}]}})})}))];case 1:return e=o.sent(),this.alcFileSelected.emit({files:e}),[2]}})})},s.prototype.formatFileSize=function(i){for(var e=["B","KB","MB","GB","TB"],t=i,o=0;t>=1024&&o<e.length-1;)t=t/1024,o++;return"".concat(t.toFixed(2)," ").concat(e[o])},s.prototype.componentWillLoad=function(){this.idInputFilePolite=b(),this.idLabel=b(),this.idDropzoneText=b()},s.prototype.componentDidLoad=function(){var i=this;this.mode==="input"&&(this.textInputElement=this.el.querySelector(".alc-input-file__text-input"),this.updateMaxInputTextLength(),this.initializeResizeObserver(),new MutationObserver(function(){i.updateMaxInputTextLength()}).observe(this.el,{childList:!0,subtree:!0}))},s.prototype.disconnectedCallback=function(){this.resizeObserver&&this.resizeObserver.disconnect()},s.prototype.initializeResizeObserver=function(){var i=this;this.resizeObserver=new ResizeObserver(function(){i.updateMaxInputTextLength()}),this.resizeObserver.observe(this.textInputElement)},s.prototype.updateMaxInputTextLength=function(){if(this.textInputElement){var i=this.textInputElement.offsetWidth,e=this.files.length>0?28:0,t=12;this.iconName&&(t=40);var o=e>0?40:12,r=t+o,n=i-r,d=7.8,c=Math.floor(n/d);this.maxInputTextLength=c>0?c:10}},s.prototype.truncateText=function(i,e){return i.length<=e?i:i.substring(0,e-3)+"..."},s.prototype.render=function(){var i=this,e;(e=this.idInput)!==null&&e!==void 0||_.report("id-input",this.el.tagName.toLowerCase(),this.el);var t={type:"file",id:this.idInput,class:"alc-input-file__input",multiple:this.multiple,accept:this.accept,disabled:this.disabled,onChange:function(c){return i.handleFileChange(c)},required:this.required},o=l("input",Object.assign({key:"2035a612a2a06be66cadc9bb9abdbe14b4d3fea9"},t,f())),r=this.files.map(function(c){return c.name}),n=this.truncateText(r.join(", "),this.maxInputTextLength),d=r.join(", ");return l(g,{key:"4014a1d76f8469fff2c900d42e18c3a20d65dc41"},l("slot",{key:"6fd005ff39bc1c29f968851f1bf9ed18996c0fbe"}),this.renderPolite(),this.mode==="button"&&l("div",{key:"c52a0c22d813fa13ead54e4f68f3e0380d5e828d",class:"alc-input-file__field"},l("button",Object.assign({key:"b865bc268007d20fd5c314f8f4a205896085f0f1",class:"alc-button ".concat(this.buttonType==="secondary"?"alc-button--secondary":""),onClick:this.invokeFileInput,disabled:this.disabled},f()),l("span",{key:"2a9642c7d0a89f3aee66877527f75216d6110c7b",class:"alc-input-file__text-button"},this.iconName&&l("alc-icon",{key:"19fa2cb81759e3a26d5ef8d9908808d6346ab90f",name:this.iconName,label:""}),this.multiple?"Escolher arquivos":"Escolher arquivo")),l("div",Object.assign({key:"1c8a116685150a992bc2ef5dcb709bfea93f8a9c",class:"alc-input-file__content","aria-controls":this.idInputFilePolite},f()),this.files.length>0?this.renderFiles():l("small",{class:"alc-input-file__text"},"Nenhum arquivo selecionado"))),this.mode==="input"&&l("div",{key:"75a462b4ed59c6672ffd6b12352963449425bc93",class:"alc-input-file__field"},l("div",{key:"5e9ede15d24855a494e4867936b8f352daa009e9",class:"alc-input-file__input-container"},l("div",{key:"0f60d4544e6c10efa31b810e7c4b4054a8eaec3d",class:"alc-input-file__input-wrapper ".concat(this.iconName?"alc-input-file__input-wrapper--with-icon":"")},this.iconName&&l("alc-icon",{key:"5ac6e47aa8084c06754606436a125e687c803251",class:"alc-input-file__icon",name:this.iconName,label:""}),l("input",Object.assign({key:"f3dd7623af2747930fbe1792dcd660e3e4ec24e2",type:"text",class:"alc-input-file__text-input",readOnly:!0,value:n,"aria-labelledby":this.idLabel,placeholder:"Selecione um arquivo",onClick:this.invokeFileInput,onKeyDown:function(c){(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),i.invokeFileInput())},"aria-description":d},f())),this.files.length>0&&l("button",Object.assign({key:"e57be5e726b1dffa4fe673e30ae076c78f118320",class:"alc-input-file__remove-button",onClick:this.handleRemoveAll,"aria-label":"Remover arquivos selecionados"},f()),l("alc-icon",{key:"4ff389c91553e5061225f8a4090e7903de3edf13",name:"x",label:"Apagar"})))),l("div",{key:"113752296f8b66d3b204b3fcf266d71c4bd5171b",class:"alc-input-file__info"},this.files.length>0?this.renderFileInfo():"")),this.mode==="dropzone"&&l("div",{key:"e8b5fe04f1c073c067d81437294a988c99cd1a03",class:"alc-input-file__field"},l("div",Object.assign({key:"a340dfc0aa1387332820220db7052690278c1ac0",class:"alc-input-file__dropzone ".concat(this.disabled?"alc-input-file__dropzone--disabled":""),onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,role:"button",tabIndex:0,"aria-labelledby":this.idLabel,"aria-describedby":this.idDropzoneText,onClick:this.invokeFileInput,onKeyDown:function(c){(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),i.invokeFileInput())}},f()),this.iconName&&l("alc-icon",{key:"e7335363a685a87839caa04eb07a7ec7904b33c3",name:this.iconName,label:""}),l("span",{key:"d5299aa97c8d78ca42f0470898ace7e0e313bf8f",class:"alc-input-file__dropzone-text",id:this.idDropzoneText},"Arraste e solte arquivos aqui ou clique para selecionar")),l("div",{key:"4a31ad607c0bc19d4eb4ba8848053a3f13ac1c2d",class:"alc-input-file__content","aria-controls":this.idInputFilePolite},this.files.length>0?this.renderFiles():"")),o)},Object.defineProperty(s.prototype,"el",{get:function(){return x(this)},enumerable:!1,configurable:!0}),s}();z.style=k;export{z as alc_input_file};
