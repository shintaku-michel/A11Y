import{h as c,H as v,r as x,b as d}from"./index-DEDX6sec.js";import{g as p,h as k,f as _}from"./keydown-CsSB10gC-D2PGJPdm.js";import{t as b}from"./testAttributes-DKpd2q2s-b5oJ0bDj.js";import{l as w,u as y}from"./scrollLockManager-DAIHEANP-BdUZhIig.js";var g=function(n,i,t,a){function s(e){return e instanceof t?e:new t(function(o){o(e)})}return new(t||(t=Promise))(function(e,o){function f(l){try{r(a.next(l))}catch(h){o(h)}}function u(l){try{r(a.throw(l))}catch(h){o(h)}}function r(l){l.done?e(l.value):s(l.value).then(f,u)}r((a=a.apply(n,i||[])).next())})},m=function(n,i){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},a,s,e,o;return o={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function f(r){return function(l){return u([r,l])}}function u(r){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,r[0]&&(t=0)),t;)try{if(a=1,s&&(e=r[0]&2?s.return:r[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,r[1])).done)return e;switch(s=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,s=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=i.call(n,t)}catch(l){r=[6,l],s=0}finally{a=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},D=".alc-modal__overlay{position:fixed;inset:0px;z-index:10;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:end;justify-content:flex-end}.alc-drawer__content{position:relative;height:100%;width:100%;max-width:28rem;overflow-y:auto}.alc-drawer__header{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding:1rem}",E=".alc-drawer__overlay{position:fixed;inset:0px;z-index:30;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:end;justify-content:flex-end;background-color:rgb(45 46 47 / var(--tw-bg-opacity));--tw-bg-opacity:0.4}.alc-drawer__content{position:relative;height:100%;width:100%;max-width:28rem;overflow-y:auto;background-color:var(--alc-color-surface-primary);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.alc-drawer__header{position:absolute;right:0px;display:block;padding-right:var(--alc-spacing-04);padding-top:var(--alc-spacing-04)}",V=function(){function n(i){var t=this;x(this,i),this.alcShow=d(this,"alc-show",7),this.alcAfterShow=d(this,"alc-after-show",6),this.alcHide=d(this,"alc-hide",7),this.alcAfterHide=d(this,"alc-after-hide",6),this.triggerElement=null,this.elementToFocus=null,this.isVisible=!1,this.getDrawerRef=function(a){return t.drawerRef=a},this.handleFocusWhenCloseDrawer=function(){if(t.elementToFocus){var a=t.elementToFocus;return typeof a=="string"&&(a=document.getElementById(a)),a?a.focus():null}var s=["BODY","DOCUMENT"],e=!!t.triggerElement&&document.body.contains(t.triggerElement);if(e&&!s.includes(t.triggerElement.tagName)){t.triggerElement.focus();return}}}return n.prototype.watchIsVisible=function(i){return i?(w(),this.triggerElement=document.activeElement,this.show(),i):(y(),this.hide(),i)},n.prototype.show=function(){return g(this,void 0,void 0,function(){var i;return m(this,function(t){return this.isVisible?[2,!1]:(i=this.alcShow.emit().defaultPrevented,i?[2,!1]:(this.isVisible=!0,this.alcAfterShow.emit(),[2,!0]))})})},n.prototype.hide=function(){return g(this,void 0,void 0,function(){var i;return m(this,function(t){return this.isVisible?(i=this.alcHide.emit().defaultPrevented,i?[2,!1]:(this.isVisible=!1,this.alcAfterHide.emit(),this.handleFocusWhenCloseDrawer(),[2,!0])):[2,!1]})})},n.prototype.handleKeyDown=function(i){if(this.isVisible&&!i.defaultPrevented){if(i.key==="Escape"){i.preventDefault(),this.hide();return}if(i.key==="Tab"){var t=p(this.drawerRef);k(i,t)}}},n.prototype.componentDidRender=function(){var i=p(this.drawerRef);this.isVisible&&_(i)},n.prototype.connectedCallback=function(){this.isVisible&&w()},n.prototype.disconnectedCallback=function(){this.isVisible&&y()},n.prototype.render=function(){var i=this;return c(v,{key:"ca2677c0cd1d14c67bafa67fce53f5b424f4685e",style:{display:this.isVisible?"block":"none"}},c("div",{key:"8acd999442e9acf8a2e809cfa7815da89eee94cb",class:"alc-drawer__overlay"},c("div",{key:"fb8f0c024488670e1b8d2ecdb127bf3932b12571",class:"alc-drawer__content bg-white dark:bg-black",role:"dialog","aria-modal":"true",ref:this.getDrawerRef},c("div",{key:"849e2ea5ff524e1d38e56f9d8927dfccf7f0a4d9",class:"alc-drawer__header"},c("button",Object.assign({key:"4c1cb2eeb3873269d1e22c2562aca16194483c0f",class:"alc-button alc-button-rounded",onClick:function(){return i.hide()}},b()),c("alc-icon",Object.assign({key:"3d49c3ad15ddaa614ff1c247de746248e94c498b",name:"x-lg",label:"Fechar Drawer"},b())))),c("div",{key:"ece60e72f6084d1a481561acb9978f769e4178d3"},c("slot",{key:"8c460fb7b5dcc59fe786028b1a7557e0308f5b7c"})))))},Object.defineProperty(n,"watchers",{get:function(){return{isVisible:["watchIsVisible"]}},enumerable:!1,configurable:!0}),n}();V.style={base:D,theme:E};export{V as alc_drawer};
