System.register(["./p-DSLAmKHM.system.js","./p-C_FeZnCc.system.js"],(function(e){"use strict";var t,r,c,i;return{setters:[function(e){t=e.r;r=e.h;c=e.g},function(e){i=e.g}],execute:function(){var a=".alc-field-checker{display:block}";var n=e("alc_field_checker",function(){function e(e){var r=this;t(this,e);this.idAlert=null;this.errorFields=[];this.checkOnSubmit=false;this.handleFormSubmit=function(e){r.checkAlcFields();if(r.errorFields.length>0){e.preventDefault()}}}e.prototype.componentWillLoad=function(){this.idAlert=i()};e.prototype.componentDidLoad=function(){var e=this;if(!this.checkOnSubmit){this.checkAlcFields();this.observer=new MutationObserver((function(){return e.checkAlcFields()}));var t=this.hostElement.querySelectorAll("alc-field, alc-fieldset, alc-checkbox, alc-radio");t.forEach((function(t){return e.observer.observe(t,{attributes:true,childList:true,subtree:true})}))}else{var r=this.hostElement.querySelector("form");if(r){r.addEventListener("submit",this.handleFormSubmit)}}};e.prototype.disconnectedCallback=function(){var e;(e=this.observer)===null||e===void 0?void 0:e.disconnect()};e.prototype.getFieldId=function(e){var t=e.querySelector("input, textarea, select");return t?t.getAttribute("id"):""};e.prototype.isChildOfFieldset=function(e){return e.closest("alc-fieldset")!==null};e.prototype.getLabelText=function(e){var t=e.querySelector("label");return t?t.textContent.trim():""};e.prototype.checkAlcFields=function(){var e=this;var t=Array.from(this.hostElement.querySelectorAll("alc-field, alc-fieldset, alc-checkbox, alc-radio")).filter((function(t){if(t.tagName.toLowerCase()==="alc-checkbox"||t.tagName.toLowerCase()==="alc-radio"){return!e.isChildOfFieldset(t)}return true}));this.errorFields=t.filter((function(e){return e.hasAttribute("error-msg")&&e.getAttribute("error-msg")!==""})).map((function(t){var r=t.tagName.toLowerCase()==="alc-checkbox"||t.tagName.toLowerCase()==="alc-radio";var c=t.tagName.toLowerCase()==="alc-fieldset";return{id:e.getFieldId(t),label:r?e.getLabelText(t):c?t.getAttribute("legend"):t.getAttribute("label"),errorMsg:t.getAttribute("error-msg")}}))};e.prototype.render=function(){return r("div",{key:"0a9dfd4e96e62c36ef0cc1b9a3a82b943e0bfd9c",class:"alc-field-checker"},this.errorFields.length>0&&r("alc-alert",{key:"65030b9165d9c7909cafc0b22a5a1b456e27c768",id:this.idAlert,type:"warning",dismissible:false},r("span",{key:"9db85f42ff4ea2ec8103cc501e5a602e1a592e04",class:"alc-alert__summary"},"Atenção: Seu formulário contém ",this.errorFields.length," ",this.errorFields.length>1?"erros":"erro"),r("ul",{key:"c724032a1d6eaa5a0cea7cef9f40d3d8be0069f3"},this.errorFields.map((function(e){return r("li",null,r("a",{href:"#".concat(e.id),class:"alc-link alc-link--color-text"},r("strong",null,e.label,":")," ",e.errorMsg))})))),r("slot",{key:"72e09b858f27172b05f0df38c8c6f9dca12a0ae6"}))};Object.defineProperty(e.prototype,"hostElement",{get:function(){return c(this)},enumerable:false,configurable:true});return e}());n.style=a}}}));
//# sourceMappingURL=p-4e2686b6.system.entry.js.map