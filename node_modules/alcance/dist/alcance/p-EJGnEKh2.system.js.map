{"version":3,"file":"p-EJGnEKh2.system.js","sources":["src/components/alc-menu-link/alc-menu-link.css?tag=alc-menu-link","src/components/alc-menu-link/alc-menu-link.tsx"],"sourcesContent":["alc-menu-link {\n  --text-color: var(--alc-color-text-0);\n  --text-color-disabled: var(--alc-color-text-4);\n\n  --bg-color-active: var(--alc-color-surface-secondary);\n  --bg-color-hover: var(--alc-color-surface-tertiary);\n  --bg-color-focus: var(--alc-color-surface-secondary);\n}\n\n[data-alc-theme=\"dark\"] alc-menu-link {\n  --text-color-active: var(--alc-color-text-0);\n\n  --outline-color: var(--alc-color-action-30);\n}\n\n[data-alc-theme=\"light\"] alc-menu-link {\n  --text-color-active: var(--alc-color-text-contrast);\n\n  --outline-color: var(--alc-color-action-60);\n}\n\n* {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n}\n\n.alc-menu-link > a {\n  -webkit-user-select: none;\n  -webkit-user-select: none;\n  @apply block pl-7 pr-6 py-2 cursor-pointer;\n  @apply items-baseline;\n  @apply text-left text-base text-[color:--text-color];\n  @apply hover:bg-[color:--bg-color-hover];\n  @apply active:bg-[color:--bg-color-active];\n}\n\n.alc-menu-link > a:focus-visible {\n  @apply outline outline-2 outline-[--outline-color] -outline-offset-8;\n  @apply bg-[color:--bg-color-focus];\n} \n\n.alc-menu-link > a.alc-menu-link--disabled {\n  @apply cursor-not-allowed text-[color:--text-color-disabled];\n  @apply hover:bg-[color:--bg-color-hover];\n  @apply focus-visible:bg-[color:--bg-color-focus];\n}\n\n.alc-menu-link__label {\n  @apply flex-1;\n}\n\n.alc-menu-link__prefix:not(:empty) {\n  @apply mr-2;\n}\n\n.alc-menu-link__suffix:not(:empty) {\n  @apply ml-2;\n}","import { Component, Prop, h, Host, Event, EventEmitter, Element, Watch } from '@stencil/core';\nimport classNames from 'classnames';\n\nexport interface AlcMenuLinkSelectEventDetail {\n  originalEvent: MouseEvent | KeyboardEvent;\n}\n\n/**\n * @slot - A tag para navegação. Pode ser tanto a tag `<a>` quanto um `<routerlink>` no caso de uso com Vue.\n **/\n\n@Component({\n  tag: 'alc-menu-link',\n  styleUrl: 'alc-menu-link.css',\n  shadow: false,\n})\nexport class AlcMenuLink {\n  @Element() hostElement: HTMLElement;\n\n  /** Indica se o menu-link está desabilitado. */\n  @Prop({ reflect: true, mutable: true })\n  disabled?: boolean = false;\n\n  /** Valor do menu-link, que pode ser utilizado para identificar que link foi selecionado. */\n  @Prop({ reflect: true })\n  value?: any;\n\n  /** Evento disparado quando o menu-link é selecionado. */\n  @Event({ eventName: 'alc-select' })\n  alcSelect: EventEmitter<{\n    originalEvent: MouseEvent | KeyboardEvent;\n  }>;\n\n  private originalHref: string | null = null;\n  private spaceKeyEvent: KeyboardEvent = null;\n\n  @Watch('disabled')\n  handleDisabledChange(newValue: boolean) {\n    this.updateLinkState(newValue);\n  }\n\n  triggerEvent(detail: AlcMenuLinkSelectEventDetail) {\n    if (this.disabled) {\n      return;\n    }\n    this.alcSelect.emit(detail);\n  }\n\n  updateLinkState(disabled: boolean) {\n    const anchor = this.hostElement.querySelector('a');\n    if (anchor) {\n      if (disabled) {\n        this.originalHref = anchor.getAttribute('href');\n        anchor.setAttribute('aria-disabled', 'true');\n        anchor.classList.add('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '-1');\n        anchor.removeAttribute('href');\n        anchor.setAttribute('role', 'menuitem');\n      } else {\n        if (this.originalHref) {\n          anchor.setAttribute('href', this.originalHref);\n        }\n        anchor.removeAttribute('aria-disabled');\n        anchor.classList.remove('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '0');\n        anchor.setAttribute('role', 'menuitem');\n      }\n    }\n  }\n\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.disabled && event.key === ' ') {\n      event.preventDefault();\n      const anchor = this.hostElement.querySelector('a');\n      if (anchor) {\n        this.spaceKeyEvent = event;\n        anchor.click();\n      }\n    }\n  }\n\n  handleClick(event: MouseEvent) {\n    const originalEvent = this.spaceKeyEvent ?? event;\n    this.spaceKeyEvent = null; // Despreza esse evento para os próximos disparos.\n    if (this.disabled) {\n      event.preventDefault();\n    } else {\n      this.triggerEvent({ originalEvent: originalEvent });\n    }\n  }\n\n  componentWillLoad() {\n    this.updateLinkState(this.disabled);\n  }\n\n  getCssClassMap() {\n    return classNames(\n      'alc-menu-link',\n      this.disabled && 'alc-menu-link--disabled',\n    );\n  }\n\n  render() {\n    return (\n      <Host\n      class={this.getCssClassMap()}\n      aria-disabled={this.disabled ? 'true' : null}\n      onClick={this.handleClick.bind(this)}\n      onKeyDown={this.handleKeyDown.bind(this)}\n      >\n          <slot />\n      </Host>\n    );\n  }\n}"],"names":[],"mappings":"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"}