{"version":3,"names":["alcDetailsBaseCss","themeAlcDetailsCss","AlcDetails","exports","class_1","hostRef","_this","this","idDetails","opened","maxHeight","showDetails","e","disabled","preventDefault","detailsElement","open","alcShow","emit","alcClose","prototype","renderIcon","getMode","h","name","label","class","componentWillLoad","getUniqueId","componentDidLoad","addEventListener","render","_a","summary","logger","report","element","tagName","toLowerCase","Host","key","id","ref","el"],"sources":["src/components/alc-details/alc-details-base.css?tag=alc-details&mode=base","src/components/alc-details/alc-details.css?tag=alc-details&mode=theme","src/components/alc-details/alc-details.tsx"],"sourcesContent":[".alc-details__summary.is-disabled {\n  @apply cursor-not-allowed;\n}","alc-details {\n  /**\n   * @prop --bg-color: Cor de fundo do details.\n   */\n  --bg-color: var(--alc-color-surface);\n\n  /* Define cor de fallback caso o color-mix não tenha suporte no navegador */\n  --shadow-color: var(--alc-color-border);\n\n  /* Define cor com transparência */\n  @supports (color: color-mix(in srgb, black, white)) {\n    --shadow-color: color-mix(in srgb, var(--alc-color-border) 50%, transparent);\n  }\n}\n\n[data-alc-theme=\"light\"] alc-details {\n  --border-color: var(--alc-color-border);\n\n  --text-color-hover: var(--alc-color-action-60);\n\n  --bg-color-disabled: var(--alc-color-neutral-10);\n  --border-color-disabled: var(--alc-color-neutral-20);\n  --text-color-disabled: var(--alc-color-text-4);\n}\n\n[data-alc-theme=\"dark\"] alc-details {\n  --border-color: var(--alc-color-border);\n\n  --text-color-hover: var(--alc-color-action-40);\n\n  --bg-color-disabled: var(--alc-color-neutral-80);\n  --border-color-disabled: var(--alc-color-neutral-70);\n  --text-color-disabled: var(--alc-color-text-3);\n}\n\n:host {\n  display: block;\n}\n\n/* Default icon hidden */\n.alc-details__summary {\n  list-style: none;\n}\n\n.alc-details__summary::-webkit-details-marker {\n  display: none;\n}\n/* ================== */\n\n\n/* Animações removidas até ajustar o tabs para funcionar o details dentro */\n.alc-details {\n  /* --max-height: calc(var(--min-height) + var(--content-height) + 1); */\n  @apply bg-[color:var(--bg-color)] rounded-[var(--alc-radius-default)] mb-2 shadow shadow-[var(--shadow-color)];\n  /* @apply h-[var(--min-height)] transition-all duration-100 ease-in-out; */\n}\n\n/* .alc-details.is-open {\n  @apply h-[var(--max-height)];\n} */\n\n.alc-details.is-disabled {\n  @apply rounded-[var(--alc-radius-default)];\n  @apply bg-[color:var(--bg-color-disabled)] text-[color:var(--text-color-disabled)] border-[color:var(--border-color-disabled)];\n}\n\n.alc-details__summary {\n  --summary-padding: calc(theme('padding.2') - theme('borderWidth.2'));\n  @apply flex items-center gap-2 p-[var(--summary-padding)] text-base transition-colors cursor-pointer;\n  @apply hover:text-[color:var(--text-color-hover)] rounded-[var(--alc-radius-default)] border border-[color:var(--border-color)];\n}\n\n.alc-details__summary.is-open {\n  @apply rounded-b-none;\n}\n\n.alc-details__summary:focus-visible {\n  @apply border-[color:var(--border-color)];\n}\n\n.alc-details__icon  {\n  @apply origin-center rotate-0 transition-transform duration-200 ease-in-out;\n}\n\n.alc-details__icon.is-open {\n  @apply rotate-90;\n}\n\n.alc-details__summary.is-disabled {\n  /* prevents click events and prevents text selection*/\n  @apply pointer-events-none select-none cursor-not-allowed outline-none;\n}\n\n.alc-details__summary.is-disabled:focus-visible {\n  @apply border-transparent;\n}\n\n.alc-details__content {\n  @apply p-2 border-r rounded-[var(--alc-radius-default)] rounded-t-none border-l border-b border-[color:var(--border-color)];\n  /* @apply opacity-0 transition-opacity; */\n}\n\n/* .alc-details.is-open .alc-details__content {\n  @apply opacity-100;\n} */\n","// @ts-nocheck\nimport { h, Component, Element, Event, EventEmitter, Host, Prop, State, Watch, Listen } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId';\nimport logger from '../utils/logger';\nimport { getMode } from '../utils/theme';\n\n@Component({\n  tag: 'alc-details',\n  styleUrls: {\n    base: 'alc-details-base.css',\n    theme: 'alc-details.css',\n  },\n  shadow: false,\n})\nexport class AlcDetails {\n  @Element()\n  element: HTMLElement;\n  detailsElement: HTMLElement;\n  summaryElement: HTMLElement;\n  contentElement: HTMLElement;\n  private idDetails = null;\n  private ro: ResizeObserver;\n\n  /**\n   * Insere o summary do details.\n   */\n  @Prop({ reflect: true }) summary!: string;\n\n  /**\n   * Desativa o componente.\n   */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Mantém aberto.\n   */\n  @Prop({\n    mutable: true,\n  })\n  opened: boolean = false;\n\n  @State() maxHeight: number = null;\n\n  /**\n   * Evento disparado quando a details abrir\n   */\n  @Event({\n    eventName: 'alc-show',\n    cancelable: true,\n    bubbles: true,\n  })\n  alcShow: EventEmitter<null>;\n\n  /**\n   * Evento disparado quando a details fechar\n   */\n  @Event({\n    eventName: 'alc-close',\n    cancelable: false,\n    bubbles: true,\n  })\n  alcClose: EventEmitter<null>;\n\n  private showDetails = (e: Event) => {\n    if (this.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    this.opened = this.detailsElement.open;\n    if (this.opened) {\n      this.alcShow.emit();\n    } else {\n      this.alcClose.emit();\n    }\n  };\n\n  private renderIcon() {\n    // Não mostra ícone se não for tematizado\n    if (getMode() === 'base') {\n      return null;\n    }\n\n    return (\n      <alc-icon\n        name=\"chevron-right\"\n        label=\"Expandir\"\n        class={{\n          'alc-details__icon': true,\n          'is-open': this.opened,\n        }}\n      ></alc-icon>\n    );\n  }\n\n  componentWillLoad() {\n    // Antes do componente carregar, cria um id para o details.\n    this.idDetails = getUniqueId();\n  }\n\n  componentDidLoad() {\n    // Aguarda carga do componente para inserir o listener do evento\n    this.detailsElement.addEventListener('toggle', this.showDetails);\n\n  }\n\n\n  // Configuração de altura para animação removida até ajustar para que funcione details dentro do tabs\n  // componentDidRender() {\n  //   this.summaryElement = this.detailsElement.querySelector('.alc-details__summary');\n  //   this.contentElement = this.detailsElement.querySelector('.alc-details__content');\n\n  //   // Por meio do ResizeObserver, redefine o valor de altura máxima, deixando a altura do conteúdo\n  //   // dentro do details dinâmico\n  //   const target = this.contentElement;\n  //   const modifierElement = this.detailsElement;\n  //   const minHeight = this.summaryElement.offsetHeight;\n\n  //   function observerCallback() {\n  //     const targetHeight = target.scrollHeight;\n  //     const height = targetHeight + minHeight + 1;\n  //     modifierElement.style.setProperty('--min-height', minHeight + 'px');\n  //     modifierElement.style.setProperty('--max-height', height + 'px');\n  //   }\n\n  //   this.ro = new ResizeObserver(observerCallback);\n  //   this.ro.observe(target);\n\n  //   // Inicia com um cálculo de altura necessário para animação.\n  //   // Não interfere na dinâmica do conteúdo.\n  //   if (modifierElement) {\n  //     const minHeight = this.summaryElement.offsetHeight;\n  //     const maxHeight = this.contentElement.offsetHeight;\n\n  //     modifierElement.style.setProperty('--min-height', minHeight + 'px');\n  //     modifierElement.style.setProperty('--content-height', maxHeight + 'px');\n  //   }\n\n  // }\n\n  render() {\n    this.summary ?? logger.report('summary', this.element.tagName.toLowerCase(), this.element)\n    return (\n      <Host>\n        <details\n          id={this.idDetails}\n          open={this.opened}\n          class={{\n            'alc-details': true,\n            'is-disabled': this.disabled,\n            'is-open': this.opened,\n          }}\n          ref={el => (this.detailsElement = el)}\n        >\n          <summary\n            class={{\n              'alc-details__summary': true,\n              'is-disabled': this.disabled,\n              'is-open': this.opened\n            }}\n          >\n            {this.renderIcon()}\n            {this.summary}\n          </summary>\n          <div class=\"alc-details__content\">\n            <slot></slot>\n          </div>\n        </details>\n      </Host>\n    );\n  }\n}\n"],"mappings":"4SAAA,IAAMA,EAAoB,wDCA1B,IAAMC,EAAqB,w8I,ICcdC,EAAUC,EAAA,yBARvB,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,K,gFAcUA,KAASC,UAAG,KAmBpBD,KAAME,OAAY,MAETF,KAASG,UAAW,KAsBrBH,KAAAI,YAAc,SAACC,GACrB,GAAIN,EAAKO,SAAU,CACjBD,EAAEE,iBACF,M,CAGFR,EAAKG,OAASH,EAAKS,eAAeC,KAClC,GAAIV,EAAKG,OAAQ,CACfH,EAAKW,QAAQC,M,KACR,CACLZ,EAAKa,SAASD,M,CAElB,CAgGD,CA9FSd,EAAAgB,UAAAC,WAAA,WAEN,GAAIC,MAAc,OAAQ,CACxB,OAAO,I,CAGT,OACEC,EACE,YAAAC,KAAK,gBACLC,MAAM,WACNC,MAAO,CACL,oBAAqB,KACrB,UAAWnB,KAAKE,S,EAMxBL,EAAAgB,UAAAO,kBAAA,WAEEpB,KAAKC,UAAYoB,G,EAGnBxB,EAAAgB,UAAAS,iBAAA,WAEEtB,KAAKQ,eAAee,iBAAiB,SAAUvB,KAAKI,Y,EAsCtDP,EAAAgB,UAAAW,OAAA,eAAAzB,EAAAC,K,OACEyB,EAAAzB,KAAK0B,WAAO,MAAAD,SAAA,EAAAA,EAAIE,EAAOC,OAAO,UAAW5B,KAAK6B,QAAQC,QAAQC,cAAe/B,KAAK6B,SAClF,OACEb,EAACgB,EAAI,CAAAC,IAAA,4CACHjB,EAAA,WAAAiB,IAAA,2CACEC,GAAIlC,KAAKC,UACTQ,KAAMT,KAAKE,OACXiB,MAAO,CACL,cAAe,KACf,cAAenB,KAAKM,SACpB,UAAWN,KAAKE,QAElBiC,IAAK,SAAAC,GAAE,OAAKrC,EAAKS,eAAiB4B,CAA3B,GAEPpB,EAAA,WAAAiB,IAAA,2CACEd,MAAO,CACL,uBAAwB,KACxB,cAAenB,KAAKM,SACpB,UAAWN,KAAKE,SAGjBF,KAAKc,aACLd,KAAK0B,SAERV,EAAK,OAAAiB,IAAA,2CAAAd,MAAM,wBACTH,EAAA,QAAAiB,IAAA,+C,4HAvJW,I","ignoreList":[]}