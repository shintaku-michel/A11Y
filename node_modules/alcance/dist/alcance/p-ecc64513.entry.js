import{r as a,h as e,H as t,g as l}from"./p-BuFKlV49.js";import{g as n}from"./p-BY09qPiz.js";import{l as i}from"./p-aC3bzUnr.js";function c(a){return a?[].slice.call(a.childNodes).filter((a=>a.nodeType===Node.TEXT_NODE)).map((a=>a.nodeValue.trim())).join(" "):""}function r(a,e){const t=document.createElement("alc-icon");t.setAttribute("name",a);t.setAttribute("label",e?e:"");return t}const o='alc-nav{display:block;--spacing-x:var(--alc-spacing-06);--border-width-selected:var(--alc-spacing-03);--border-color-selected:var(--alc-color-neutral-50);--padding-left-selected:calc(var(--spacing-x) - var(--border-width-selected))}[data-alc-theme="light"] alc-nav{--icon-color:var(--alc-color-neutral-50);--bg-color-selected:var(--alc-color-neutral-10)}[data-alc-theme="dark"] alc-nav{--icon-color:var(--alc-color-neutral-40);--bg-color-selected:var(--alc-color-neutral-90)}.alc-nav__panel{display:none}.alc-nav__panel--subpanel{padding-top:1rem;padding-bottom:1rem}.alc-nav__panel.is-open{display:block}.alc-nav__header{padding-top:1rem;padding-bottom:1rem;border-bottom-width:1px;border-color:var(--alc-color-neutral-40)}.alc-nav__main{padding-top:1rem;padding-bottom:1rem}.alc-nav__footer{padding-top:1rem;padding-bottom:1rem;border-top-width:1px;border-color:var(--alc-color-neutral-40)}.alc-nav__label-wrapper{margin-top:1.5rem;padding-left:var(--spacing-x);padding-right:var(--spacing-x)}.alc-nav__label{font-size:0.75rem;line-height:1rem;font-weight:700;text-transform:uppercase;letter-spacing:0.15rem;color:var(--alc-color-text-3)}.alc-nav__label:is([data-alc-theme="dark"] *){color:var(--alc-color-text-2)}.alc-nav__listview{margin-top:0.5rem}.alc-nav__listview--labelled{margin-top:1rem}.alc-nav__listitem{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:0.5rem}.alc-nav__text{width:100%;padding-left:var(--spacing-x);padding-right:var(--spacing-x);padding-top:1rem;padding-bottom:1rem;color:var(--alc-color-link-text)}.alc-nav__text:hover{color:var(--alc-color-text-2)}.alc-nav__text:hover:is([data-alc-theme="dark"] *){color:var(--alc-color-text-0)}.alc-nav__text:hover{background-color:var(--alc-color-neutral-5)}.alc-nav__text:hover:is([data-alc-theme="dark"] *){background-color:var(--alc-color-neutral-80)}.alc-nav__listitem.is-selected .alc-nav__text{border-left-color:var(--border-color-selected);background-color:var(--bg-color-selected);padding-left:var(--padding-left-selected);border-left-width:var(--border-width-selected)}.alc-nav__listitem.is-selected .alc-nav__text:hover{background-color:var(--alc-color-neutral-5)}.alc-nav__listitem.is-selected .alc-nav__text:hover:is([data-alc-theme="dark"] *){background-color:var(--alc-color-neutral-80)}.alc-nav__navbar{margin-left:var(--spacing-x);margin-right:var(--spacing-x);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.alc-nav__navbar-title{-ms-flex-positive:1;flex-grow:1;text-align:center;font-weight:500;text-transform:uppercase;color:var(--alc-color-text-3)}.alc-nav__navbar-title:is([data-alc-theme="dark"] *){color:var(--alc-color-text-0)}.alc-nav__button--next{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;gap:0.5rem}.alc-nav__icon--next{color:var(--icon-color)}.alc-nav__icon--prev{font-size:2rem;line-height:2.5rem;color:var(--alc-color-link-text)}';const s=class{constructor(e){a(this,e)}openPanel(a){if(!a){return}i.debug("open",{panel:a});a=a.closest(".alc-nav__panel");const e=Array.from(this.panels.children).filter((a=>a.matches(".is-open")))[0];if(a.matches(".alc-nav__panel--parent")&&e){e.classList.add("alc-nav__panel--highest")}const t=["is-open","mm-panel--parent"];const l=[];Array.from(this.panels.children).filter((a=>a.matches(".alc-nav__panel"))).forEach((n=>{n.classList.add(...l);n.classList.remove(...t);if(n!==e){n.classList.remove("alc-nav__panel--highest")}if(n===a){n.removeAttribute("inert")}else{n.setAttribute("inert","true")}}));a.classList.add("is-open");let n=this.panels.querySelector(`#${a.dataset.alcParent}`);while(n){n=n.closest(".alc-nav__panel");n.classList.add("alc-nav__panel--parent");n=this.panels.querySelector(`#${n.dataset.alcParent}`)}this.focusableItems=Array.from(this.el.querySelectorAll(".alc-nav__panel.is-open .alc-nav__listview a"));this.focusableItems[0].focus();const c=Array.from(this.el.querySelectorAll(".alc-nav__panel.is-open .alc-nav__listitem"));c.forEach((a=>{if(a.id===(e===null||e===void 0?void 0:e.dataset.alcParent)){i.debug("focus on",a,a.id);a.querySelector("a").focus()}}))}closePanel(a){i.debug("close",{panel:a})}async togglePanel(a){const e=a.parentElement;if(e.classList.contains("is-open")){i.debug("will close",a);this.closePanel(a)}else{i.debug("will open",a);this.openPanel(a)}}async setSelectedItem(a){this.el.querySelectorAll(".alc-nav__listitem.is-selected").forEach((a=>{a.classList.remove("is-selected");a.removeAttribute("data-alc-selected")}));if(a){a.classList.add("is-selected");a.setAttribute("data-alc-selected","true")}}setSelected(a){this.menu.querySelectorAll(".alc-nav__listitem--selected").forEach((a=>{a.classList.remove("alc-nav__listitem--selected")}));a.classList.add("alc-nav__listitem--selected")}initMenu(){this.menu.id=this.menu.id||n();const a=Array.from(this.menu.children).filter((a=>a.matches("[data-alc-panel]")));i.debug({panels:a});this.panels=document.createElement("div");this.panels.classList.add("alc-nav__panels");this.menu.append(this.panels);a.forEach((a=>{this.initPanel(a)}))}initPanels(){this.menu.addEventListener("click",(a=>{var e,t;const l=((t=(e=a.target)===null||e===void 0?void 0:e.closest("a[href]"))===null||t===void 0?void 0:t.getAttribute("href"))||"";if(l.slice(0,1)==="#"){try{const e=this.el.querySelector(l);if(e){a.preventDefault();this.togglePanel(e)}}catch(a){}}}),{capture:true})}initPanel(a){var e,t;if(a.matches(".alc-nav__panel")){return}i.debug({panel:a});a.id=a.id||n();a.classList.add("alc-nav__panel");this.panels.append(a);this.initNavbar(a);Array.from(a.children).filter((a=>a.matches("ol, ul"))).forEach((a=>{this.initListview(a)}));Array.from(this.main.children).filter((a=>a.matches("ol, ul"))).forEach((a=>{this.initListview(a)}));if((e=this.header)===null||e===void 0?void 0:e.children){Array.from(this.header.children).filter((a=>a.matches("ol, ul"))).forEach((a=>{this.initListview(a)}))}if((t=this.footer)===null||t===void 0?void 0:t.children){Array.from(this.footer.children).filter((a=>a.matches("ol, ul"))).forEach((a=>{this.initListview(a)}))}return a}initNavbar(a){if(Array.from(a.children).some((a=>a.matches(".alc-nav__navbar")))){return}let e=null;let t=null;if(a.dataset.alcParent){e=this.panels.querySelector(`#${a.dataset.alcParent}`);t=e.closest(".alc-nav__panel");while(t.closest(".alc-nav__listitem")){t=t.parentElement.closest(".alc-nav__panel")}}const l=document.createElement("div");l.classList.add("alc-nav__navbar");if(t){const a=document.createElement("a");a.classList.add("alc-nav__button","alc-nav__button--prev");const e=c(t.querySelector(".alc-nav__navbar-title"));const n=e?`Voltar para ${e}`:"Voltar para navegação principal";const i=r("arrow-left-short",n);i.classList.add("alc-nav__icon--prev");a.href=`#${t.id}`;a.append(i);l.append(a)}else{return}let n=null;if(e){n=Array.from(e.children).filter((a=>a.matches(".alc-nav__text")))[0]}else if(t){n=t.querySelector(`a[href=#${a.id}]`)}const i=document.createElement("span");i.classList.add("alc-nav__navbar-title");i.innerHTML=c(n)||"";a.prepend(l);l.append(i)}initListview(a){if(a.matches(".alc-nav__listview")){return}a.classList.add("alc-nav__listview");const e=a.previousElementSibling;const t=e?"alcLabel"in e.dataset:false;if(t){a.classList.add("alc-nav__listview--labelled");const t=document.createElement("div");t.classList.add("alc-nav__label-wrapper");a.parentElement.insertBefore(t,e);t.insertBefore(e,null);e.classList.add("alc-nav__label");e.id=e.id||n();a.setAttribute("aria-labelledby",e.id)}Array.from(a.children).forEach((a=>{this.initListitem(a)}))}initListitem(a){if(a.matches(".alc-nav__listitem")){return}a.classList.add("alc-nav__listitem");if(a.hasAttribute("data-alc-selected")){a.classList.add("is-selected")}Array.from(a.children).filter((a=>a.matches("a, span"))).forEach((a=>a.classList.add("alc-nav__text")));Array.from(a.children).filter((a=>a.matches("[data-alc-panel]"))).forEach((a=>this.initSubPanel(a)))}initSubPanel(a){if(a.matches(".alc-nav__panel")){return}const e=a.parentElement;e.id=e.id||n();a.id=a.id||n();e.dataset.alcChild=a.id;a.dataset.alcParent=e.id;a.role="dialog";a.setAttribute("aria-labelledby",e.id);a.classList.add("alc-nav__panel--subpanel");let t=Array.from(e.children).filter((a=>a.matches(".alc-nav__button")))[0];if(!t){t=document.createElement("a");t.classList.add("alc-nav__button","alc-nav__button--next");t.setAttribute("aria-expanded","false")}const l=r("chevron-right");l.setAttribute("aria-hidden","true");l.classList.add("alc-nav__icon--next");Array.from(e.children).filter((a=>a.matches("a, span"))).forEach((a=>{if(a.matches("span")){t.classList.add("alc-nav__text");t.innerHTML=a.innerHTML;e.insertBefore(t,a.nextElementSibling);a.remove()}else{e.insertBefore(t,a.nextElementSibling)}}));t.href=`#${a.id}`;t.append(l);this.initPanel(a)}initOpened(){const a=this.panels.querySelector(".alc-nav__listitem--selected");let e=this.panels.querySelector(".alc-nav__panel");if(a){this.setSelected(a);e=a.closest(".alc-nav__panel")}const t=this.el.querySelector(".alc-nav__listitem[data-alc-selected]");if(t){this.setSelectedItem(t)}this.openPanel(e)}observeNavLinks(){const a=Array.from(this.el.querySelectorAll(".alc-nav__listview a, .alc-nav__listview router-link"));a.forEach((a=>{const e=new MutationObserver((e=>{e.forEach((e=>{if(e.attributeName==="class"){if(!a.classList.contains("alc-nav__text")){a.classList.add("alc-nav__text")}}}))}));e.observe(a,{attributes:true,attributeFilter:["class"]})}))}componentDidLoad(){this.isMobile=window.innerWidth<768;this.emitNavContent(this.isMobile)}componentDidRender(){this.initMenu();this.initPanels();this.initOpened();this.focusableItems=Array.from(this.el.querySelectorAll(".alc-nav__panel.is-open .alc-nav__listview a"));this.observeNavLinks()}componentWillLoad(){this.header=this.el.querySelector("[slot='header']");this.footer=this.el.querySelector("[slot='footer']")}handleWindowResize(){const a=window.innerWidth<768;if(a!==this.isMobile){this.isMobile=a;this.emitNavContent(this.isMobile)}}emitNavContent(a){this.el.dispatchEvent(new CustomEvent("alc-nav-content",{detail:{navEl:this.el,isMobile:a},bubbles:true,composed:true}))}handleKeyDown(a){const e=Array.from(this.panels.children).filter((a=>a.matches(".is-open")))[0];const t=e===null||e===void 0?void 0:e.hasAttribute("data-alc-parent");if(a.key==="Escape"&&t){const t=e.querySelector(".alc-nav__button--prev");if(t){t.click()}a.preventDefault()}}render(){return e(t,{key:"4869774167e9dd1f9b2b7e21a8c164c331086398",class:{"alc-nav":true,"alc-nav__wrapper":true}},e("nav",{key:"66fdea76c8704b5630205260fdf370f3c3d47ad0",ref:a=>this.menu=a,class:"alc-nav__menu"},e("div",{key:"ea80376803eb2b26bea0d0f827892146be384b4d","data-alc-panel":true},this.header?e("div",{class:"alc-nav__header"},e("slot",{name:"header"})):null,e("div",{key:"dced630d3b584b25efb5f69b78d60baad2ccc21c",class:"alc-nav__main",ref:a=>this.main=a},e("slot",{key:"1be8b67e85921d8315102090094416ab9d333ce8"})),this.footer?e("div",{class:"alc-nav__footer"},e("slot",{name:"footer"})):null)))}get el(){return l(this)}};s.style=o;export{s as alc_nav};
//# sourceMappingURL=p-ecc64513.entry.js.map