{"version":3,"file":"p-DOqXaUtF.js","sources":["src/components/functional/table.tsx"],"sourcesContent":["import { FunctionalComponent } from '@stencil/core';\n\nfunction setCssClasses(table: HTMLTableElement) {\n  let headerRows = table.querySelectorAll('thead tr');\n  let headerCells = table.querySelectorAll('thead th');\n  let rows = table.querySelectorAll('tbody tr');\n  let bodyCells = table.querySelectorAll('table tbody td');\n  table.classList.add('alc-table');\n  headerRows.forEach(row => {\n    row.classList.add('alc-table__header-row');\n  });\n  headerCells.forEach(cell => {\n    cell.classList.add('alc-table__header-cell');\n  });\n  rows.forEach(row => {\n    row.classList.add('alc-table__row');\n  });\n  bodyCells.forEach(cell => {\n    cell.classList.add('alc-table__cell');\n  });\n}\n\nfunction inlineHeaders(table: HTMLTableElement): Array<HTMLDivElement> {\n  let headers = table.querySelectorAll('thead th');\n  let headerClones: Array<HTMLDivElement> = [];\n\n  headers.forEach((header) => {\n    let attrs:NamedNodeMap = header.attributes;\n    let clone = document.createElement('div');\n\n    Array.from(attrs).forEach(attr => {\n      clone.setAttribute(attr.name, attr.value);\n    });\n    clone.classList.add('alc-table__inline-header');\n\n    // clone.setAttribute('aria-hidden', 'true');\n    header.childNodes.forEach(childNode => {\n      clone.appendChild(childNode.cloneNode(true));\n    });\n    headerClones.push(clone);\n  });\n\n  return headerClones;\n}\n\nfunction wrapAll (target, wrapper = document.createElement('div')) {\n  [ ...target.childNodes ].forEach(child => wrapper.appendChild(child));\n  target.appendChild(wrapper);\n  return wrapper;\n}\n\nfunction setInlineHeaders(table: HTMLTableElement) {\n  let headers = inlineHeaders(table);\n  let rows = table.querySelectorAll('tbody tr');\n\n  rows.forEach(row => {\n    let cells = row.querySelectorAll('td');\n    cells.forEach((cell, index) => {\n\n      // Evita que seja feito o mesmo processo duas vezes na c√©lula\n      if (cell.dataset.alcInlineHeader === 'true') {\n        return;\n      }\n      const contentWrapper = document.createElement('div');\n      contentWrapper.classList.add('alc-table__cell-content');\n      wrapAll(cell, contentWrapper);\n\n      let inlineHeader = headers[index].cloneNode(true);\n      cell.insertBefore(inlineHeader, cell.firstChild);\n\n      cell.dataset.alcInlineHeader = 'true';\n    });\n  });\n}\n\ninterface TableProps {\n  target: HTMLTableElement\n}\n\nconst Table: FunctionalComponent<TableProps> = ({target}) => {\n  setCssClasses(target);\n  setInlineHeaders(target);\n\n  return null;\n}\n\nexport default Table;\nexport { setInlineHeaders, setCssClasses };"],"names":[],"mappings":"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"}