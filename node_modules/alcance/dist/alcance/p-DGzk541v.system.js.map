{"version":3,"file":"p-DGzk541v.system.js","sources":["src/components/alc-checkbox/alc-checkbox.css?tag=alc-checkbox","src/components/alc-checkbox/alc-checkbox.tsx"],"sourcesContent":["[data-alc-theme=\"dark\"] alc-checkbox {\n  --accent-color: var(--alc-color-action-40);\n  --outline-color: var(--alc-color-action-30);\n\n  --text-color: var(--alc-color-text-4);\n  --text-color-error: var(--alc-color-error-45);\n}\n\n[data-alc-theme=\"light\"] alc-checkbox {\n  --accent-color: var(--alc-color-action-60);\n  --outline-color: var(--alc-color-action-60);\n\n  --text-color: var(--alc-color-text-4);\n  --text-color-error: var(--alc-color-error-50);\n}\n\nalc-checkbox {\n  @apply flex gap-2 items-start;\n}\n\nalc-checkbox input[type='checkbox'] {\n  @apply mt-px;\n  @apply focus:outline focus:outline-offset-2 focus:outline-2;\n  @apply accent-[--accent-color];\n  @apply focus:outline-[--outline-color];\n}\n\n.alc-checkbox__label {\n  @apply flex flex-col text-sm font-medium;\n}\n\n.alc-checkbox__text {\n  @apply text-sm font-normal text-[--text-color];\n\n  &--error {\n    @apply text-[--text-color-error];\n  }\n}\n","import { Component, Host, h, Prop, Element, State } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId';\nimport test from '../utils/testAttributes';\n\n/**\n * @slot DEFAULT - Slot para o elemento input do tipo checkbox.\n *\n * @slot label - Slot para o elemento label do checkbox. Há opção de adicionar apenas o texto por meio da propriedade `label`.\n*/\n\n@Component({\n  tag: 'alc-checkbox',\n  styleUrl: 'alc-checkbox.css',\n  scoped: false,\n})\nexport class AlcCheckbox {\n\n  describedBy = new Map();\n  errorId = '';\n  hintId = '';\n  input: HTMLInputElement;\n\n  @Element() el: HTMLAlcCheckboxElement;\n\n  @State() inputId: string;\n\n  /**\n   * Texto de ajuda.\n  */\n  @Prop({ reflect: true }) hint?: string = '';\n\n  /**\n   * Texto do label do input. Há opção de adicionar o elemento label pelo slot \"label\".\n  */\n  @Prop({ reflect: true }) label: string = '';\n\n  /**\n   * Texto de mensagem de erro.\n  */\n  @Prop({ mutable: true, reflect: true}) errorMsg: string = '';\n\n  componentWillLoad() {\n\n    // Independentemente de qualquer coisa, reserva ids para esses elementos.\n    this.errorId = getUniqueId();\n    this.hintId = getUniqueId();\n\n    this.input = this.el.querySelector('input[type=\"checkbox\"]');\n    const labelElement = this.el.querySelector('label');\n\n    this.inputId = this.input.id;\n\n    if(!this.inputId) {\n      this.inputId = getUniqueId();\n      this.input.setAttribute('id', this.inputId);\n    }\n\n    if(labelElement && !labelElement.getAttribute('for')){\n      labelElement.setAttribute('for', this.inputId);\n    }\n\n    this.describedBy.set('original', this.input.getAttribute('aria-describedby') || '');\n  }\n\n  componentWillRender() {\n\n    if (this.errorMsg) {\n      this.describedBy.set('error', this.errorId);\n    }\n    else {\n      this.describedBy.delete('error');\n    }\n\n    if (this.hint) {\n      this.describedBy.set('hint', this.hintId);\n    }\n    else {\n      this.describedBy.delete('hint');\n    }\n\n    let currentDescribedBy = '';\n\n    currentDescribedBy += ` ${this.describedBy.get('original') || ''}` ;\n    currentDescribedBy += ` ${this.describedBy.get('error') || ''}` ;\n    currentDescribedBy += ` ${this.describedBy.get('hint') || ''}` ;\n\n    this.input.setAttribute('aria-describedby', currentDescribedBy.trim());\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot></slot>\n        <div class=\"alc-checkbox__label\">\n          {/* Essa div faz o label desvincular-se da estrutura do flex, permitindo que seja mostrado inline, que é o natural */}\n          <div>\n            { this.label\n              ?\n                <label\n                  htmlFor={this.inputId}\n                  {...test('data-test-label')}\n                >\n                  {this.label}\n                </label>\n              :\n                <slot name=\"label\"></slot>\n            }\n          </div>\n          { this.errorMsg\n            ?\n              <small\n                class=\"alc-checkbox__text alc-checkbox__text--error\"\n                id={this.errorId}\n                {...test('data-test-error')}\n              >\n                {this.errorMsg}\n              </small>\n            :\n              null\n          }\n          { this.hint\n            ?\n              <small\n                class=\"alc-checkbox__text\"\n                id={this.hintId}\n                {...test('data-test-hint')}\n              >\n                {this.hint}\n              </small>\n            :\n              null\n          }\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":["test"],"mappings":"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"}