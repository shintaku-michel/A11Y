{"version":3,"file":"p-G0JztihB.system.js","sources":["src/components/functional/table.tsx"],"sourcesContent":["import { FunctionalComponent } from '@stencil/core';\n\nfunction setCssClasses(table: HTMLTableElement) {\n  let headerRows = table.querySelectorAll('thead tr');\n  let headerCells = table.querySelectorAll('thead th');\n  let rows = table.querySelectorAll('tbody tr');\n  let bodyCells = table.querySelectorAll('table tbody td');\n  table.classList.add('alc-table');\n  headerRows.forEach(row => {\n    row.classList.add('alc-table__header-row');\n  });\n  headerCells.forEach(cell => {\n    cell.classList.add('alc-table__header-cell');\n  });\n  rows.forEach(row => {\n    row.classList.add('alc-table__row');\n  });\n  bodyCells.forEach(cell => {\n    cell.classList.add('alc-table__cell');\n  });\n}\n\nfunction inlineHeaders(table: HTMLTableElement): Array<HTMLDivElement> {\n  let headers = table.querySelectorAll('thead th');\n  let headerClones: Array<HTMLDivElement> = [];\n\n  headers.forEach((header) => {\n    let attrs:NamedNodeMap = header.attributes;\n    let clone = document.createElement('div');\n\n    Array.from(attrs).forEach(attr => {\n      clone.setAttribute(attr.name, attr.value);\n    });\n    clone.classList.add('alc-table__inline-header');\n\n    // clone.setAttribute('aria-hidden', 'true');\n    header.childNodes.forEach(childNode => {\n      clone.appendChild(childNode.cloneNode(true));\n    });\n    headerClones.push(clone);\n  });\n\n  return headerClones;\n}\n\nfunction wrapAll (target, wrapper = document.createElement('div')) {\n  [ ...target.childNodes ].forEach(child => wrapper.appendChild(child));\n  target.appendChild(wrapper);\n  return wrapper;\n}\n\nfunction setInlineHeaders(table: HTMLTableElement) {\n  let headers = inlineHeaders(table);\n  let rows = table.querySelectorAll('tbody tr');\n\n  rows.forEach(row => {\n    let cells = row.querySelectorAll('td');\n    cells.forEach((cell, index) => {\n\n      // Evita que seja feito o mesmo processo duas vezes na c√©lula\n      if (cell.dataset.alcInlineHeader === 'true') {\n        return;\n      }\n      const contentWrapper = document.createElement('div');\n      contentWrapper.classList.add('alc-table__cell-content');\n      wrapAll(cell, contentWrapper);\n\n      let inlineHeader = headers[index].cloneNode(true);\n      cell.insertBefore(inlineHeader, cell.firstChild);\n\n      cell.dataset.alcInlineHeader = 'true';\n    });\n  });\n}\n\ninterface TableProps {\n  target: HTMLTableElement\n}\n\nconst Table: FunctionalComponent<TableProps> = ({target}) => {\n  setCssClasses(target);\n  setInlineHeaders(target);\n\n  return null;\n}\n\nexport default Table;\nexport { setInlineHeaders, setCssClasses };"],"names":[],"mappings":"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"}