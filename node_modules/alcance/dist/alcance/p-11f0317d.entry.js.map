{"version":3,"names":["alcViewMoreCss","AlcViewMore","constructor","hostRef","this","toggleTextOpen","toggleTextClose","togglePosition","textClass","minHeight","bgColorVar","contentId","getUniqueId","toggle","e","preventDefault","contentExpanded","setPosition","getContentCssClasses","classes","componentWillLoad","componentDidRender","content","el","querySelector","maxH","scrollHeight","style","setProperty","render","h","Host","key","id","class","href","onClick","toString","role"],"sources":["src/components/alc-view-more/alc-view-more.css?tag=alc-view-more","src/components/alc-view-more/alc-view-more.tsx"],"sourcesContent":["alc-view-more {\n  @apply block;\n}\n.alc-view-more__content {\n  @apply max-h-[var(--min-height)] overflow-hidden flex flex-col justify-between transition-all duration-500 ease-in-out relative;\n}\n.alc-view-more__content--opened {\n  @apply max-h-[var(--max-height)];\n}\n.alc-view-more__content::before {\n  @apply bg-gradient-to-b from-transparent to-[var(--bg-color)] h-16 bottom-0 absolute right-0 left-0 content-[\"\"];\n}\n.alc-view-more__content--opened::before {\n  @apply hidden;\n}\n.alc-view-more__toggle {\n  @apply flex w-full;\n}\n","import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId'\n@Component({\n  tag: 'alc-view-more',\n  styleUrl: 'alc-view-more.css'\n})\nexport class AlcViewMore {\n  @Element() el!: HTMLElement;\n  /**\n   * Nome da ação para revelar o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextOpen: string = 'Veja mais...';\n  /**\n   * Nome da ação para esconder o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextClose: string = 'Fechar';\n  /**\n   * Alinhamento do botão de ação.\n   */\n  @Prop({ reflect: true }) togglePosition: string = 'center';\n  /**\n   * Classes CSS para serem aplicadas ao texto da ação.\n   */\n  @Prop({ reflect: true }) textClass: string = '';\n  /**\n   * Tamanho mínimo do conteúdo a ser exibido.\n   * Pode ser em px, rem ou em: 200px; 20rem; 10em;\n   */\n  @Prop({ reflect: true }) minHeight: string = '8em';\n\n  /**\n   * Nome da variável CSS correspondente à cor de fundo em que o componente está inserido.\n   * Aplica-se ao degradê do corte do texto.\n   */\n  @Prop({ reflect: true }) bgColorVar: string = '--alc-color-surface-primary';\n\n  @State() contentExpanded: boolean;\n\n  private contentId = getUniqueId();\n\n  toggle(e: Event) {\n    e.preventDefault();\n    this.contentExpanded = !this.contentExpanded;\n  }\n\n  setPosition() {\n    if (this.togglePosition === 'right') {\n      return 'justify-end';\n    }\n    if (this.togglePosition === 'left') {\n      return 'justify-start';\n    }\n\n    return 'justify-center';\n  }\n\n  getContentCssClasses() {\n    let classes = `alc-view-more__content ${this.textClass}`;\n\n    if (this.contentExpanded) {\n      classes = `${classes} alc-view-more__content--opened`;\n    }\n    return classes;\n  }\n\n  componentWillLoad() {\n    this.contentExpanded = false;\n  }\n\n  componentDidRender() {\n    let content = this.el.querySelector('.alc-view-more__content') as HTMLElement;\n    let maxH = content.scrollHeight;\n    content.style.setProperty('--min-height', this.minHeight);\n    content.style.setProperty('--max-height', maxH + 'px');\n    content.style.setProperty('--bg-color', `var(${this.bgColorVar})`);\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          id={this.contentId}\n          class={this.getContentCssClasses()}\n        >\n          <slot></slot>\n        </div>\n        <div class={'alc-view-more__toggle ' + (this.setPosition())}>\n          <a href={'#'+this.contentId} onClick={e => {this.toggle(e)}} aria-expanded={this.contentExpanded.toString()} aria-controls={this.contentId} role=\"button\">\n            {this.contentExpanded ? this.toggleTextClose : this.toggleTextOpen}\n          </a>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"6FAAA,MAAMA,EAAiB,2sC,MCMVC,EAAW,MAJxB,WAAAC,CAAAC,G,UAS2BC,KAAcC,eAAW,eAIzBD,KAAeE,gBAAW,SAI1BF,KAAcG,eAAW,SAIzBH,KAASI,UAAW,GAKpBJ,KAASK,UAAW,MAMpBL,KAAUM,WAAW,8BAItCN,KAASO,UAAGC,GAwDrB,CAtDC,MAAAC,CAAOC,GACLA,EAAEC,iBACFX,KAAKY,iBAAmBZ,KAAKY,e,CAG/B,WAAAC,GACE,GAAIb,KAAKG,iBAAmB,QAAS,CACnC,MAAO,a,CAET,GAAIH,KAAKG,iBAAmB,OAAQ,CAClC,MAAO,e,CAGT,MAAO,gB,CAGT,oBAAAW,GACE,IAAIC,EAAU,0BAA0Bf,KAAKI,YAE7C,GAAIJ,KAAKY,gBAAiB,CACxBG,EAAU,GAAGA,kC,CAEf,OAAOA,C,CAGT,iBAAAC,GACEhB,KAAKY,gBAAkB,K,CAGzB,kBAAAK,GACE,IAAIC,EAAUlB,KAAKmB,GAAGC,cAAc,2BACpC,IAAIC,EAAOH,EAAQI,aACnBJ,EAAQK,MAAMC,YAAY,eAAgBxB,KAAKK,WAC/Ca,EAAQK,MAAMC,YAAY,eAAgBH,EAAO,MACjDH,EAAQK,MAAMC,YAAY,aAAc,OAAOxB,KAAKM,c,CAGtD,MAAAmB,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EACE,OAAAE,IAAA,2CAAAC,GAAI7B,KAAKO,UACTuB,MAAO9B,KAAKc,wBAEZY,EAAA,QAAAE,IAAA,8CAEFF,EAAK,OAAAE,IAAA,2CAAAE,MAAO,yBAA4B9B,KAAKa,eAC3Ca,EAAG,KAAAE,IAAA,2CAAAG,KAAM,IAAI/B,KAAKO,UAAWyB,QAAStB,IAAMV,KAAKS,OAAOC,EAAE,EAAkB,gBAAAV,KAAKY,gBAAgBqB,WAA2B,gBAAAjC,KAAKO,UAAW2B,KAAK,UAC9IlC,KAAKY,gBAAkBZ,KAAKE,gBAAkBF,KAAKC,iB","ignoreList":[]}