{"version":3,"names":["alcMenuLinkCss","AlcMenuLink","constructor","hostRef","this","disabled","originalHref","spaceKeyEvent","handleDisabledChange","newValue","updateLinkState","triggerEvent","detail","alcSelect","emit","anchor","hostElement","querySelector","getAttribute","setAttribute","classList","add","removeAttribute","remove","handleKeyDown","event","key","preventDefault","click","handleClick","originalEvent","_a","componentWillLoad","getCssClassMap","classNames","render","h","Host","class","onClick","bind","onKeyDown"],"sources":["src/components/alc-menu-link/alc-menu-link.css?tag=alc-menu-link","src/components/alc-menu-link/alc-menu-link.tsx"],"sourcesContent":["alc-menu-link {\n  --text-color: var(--alc-color-text-0);\n  --text-color-disabled: var(--alc-color-text-4);\n\n  --bg-color-active: var(--alc-color-surface-secondary);\n  --bg-color-hover: var(--alc-color-surface-tertiary);\n  --bg-color-focus: var(--alc-color-surface-secondary);\n}\n\n[data-alc-theme=\"dark\"] alc-menu-link {\n  --text-color-active: var(--alc-color-text-0);\n\n  --outline-color: var(--alc-color-action-30);\n}\n\n[data-alc-theme=\"light\"] alc-menu-link {\n  --text-color-active: var(--alc-color-text-contrast);\n\n  --outline-color: var(--alc-color-action-60);\n}\n\n* {\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n}\n\n.alc-menu-link > a {\n  -webkit-user-select: none;\n  -webkit-user-select: none;\n  @apply block pl-7 pr-6 py-2 cursor-pointer;\n  @apply items-baseline;\n  @apply text-left text-base text-[color:--text-color];\n  @apply hover:bg-[color:--bg-color-hover];\n  @apply active:bg-[color:--bg-color-active];\n}\n\n.alc-menu-link > a:focus-visible {\n  @apply outline outline-2 outline-[--outline-color] -outline-offset-8;\n  @apply bg-[color:--bg-color-focus];\n} \n\n.alc-menu-link > a.alc-menu-link--disabled {\n  @apply cursor-not-allowed text-[color:--text-color-disabled];\n  @apply hover:bg-[color:--bg-color-hover];\n  @apply focus-visible:bg-[color:--bg-color-focus];\n}\n\n.alc-menu-link__label {\n  @apply flex-1;\n}\n\n.alc-menu-link__prefix:not(:empty) {\n  @apply mr-2;\n}\n\n.alc-menu-link__suffix:not(:empty) {\n  @apply ml-2;\n}","import { Component, Prop, h, Host, Event, EventEmitter, Element, Watch } from '@stencil/core';\nimport classNames from 'classnames';\n\nexport interface AlcMenuLinkSelectEventDetail {\n  originalEvent: MouseEvent | KeyboardEvent;\n}\n\n/**\n * @slot - A tag para navegação. Pode ser tanto a tag `<a>` quanto um `<routerlink>` no caso de uso com Vue.\n **/\n\n@Component({\n  tag: 'alc-menu-link',\n  styleUrl: 'alc-menu-link.css',\n  shadow: false,\n})\nexport class AlcMenuLink {\n  @Element() hostElement: HTMLElement;\n\n  /** Indica se o menu-link está desabilitado. */\n  @Prop({ reflect: true, mutable: true })\n  disabled?: boolean = false;\n\n  /** Valor do menu-link, que pode ser utilizado para identificar que link foi selecionado. */\n  @Prop({ reflect: true })\n  value?: any;\n\n  /** Evento disparado quando o menu-link é selecionado. */\n  @Event({ eventName: 'alc-select' })\n  alcSelect: EventEmitter<{\n    originalEvent: MouseEvent | KeyboardEvent;\n  }>;\n\n  private originalHref: string | null = null;\n  private spaceKeyEvent: KeyboardEvent = null;\n\n  @Watch('disabled')\n  handleDisabledChange(newValue: boolean) {\n    this.updateLinkState(newValue);\n  }\n\n  triggerEvent(detail: AlcMenuLinkSelectEventDetail) {\n    if (this.disabled) {\n      return;\n    }\n    this.alcSelect.emit(detail);\n  }\n\n  updateLinkState(disabled: boolean) {\n    const anchor = this.hostElement.querySelector('a');\n    if (anchor) {\n      if (disabled) {\n        this.originalHref = anchor.getAttribute('href');\n        anchor.setAttribute('aria-disabled', 'true');\n        anchor.classList.add('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '-1');\n        anchor.removeAttribute('href');\n        anchor.setAttribute('role', 'menuitem');\n      } else {\n        if (this.originalHref) {\n          anchor.setAttribute('href', this.originalHref);\n        }\n        anchor.removeAttribute('aria-disabled');\n        anchor.classList.remove('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '0');\n        anchor.setAttribute('role', 'menuitem');\n      }\n    }\n  }\n\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.disabled && event.key === ' ') {\n      event.preventDefault();\n      const anchor = this.hostElement.querySelector('a');\n      if (anchor) {\n        this.spaceKeyEvent = event;\n        anchor.click();\n      }\n    }\n  }\n\n  handleClick(event: MouseEvent) {\n    const originalEvent = this.spaceKeyEvent ?? event;\n    this.spaceKeyEvent = null; // Despreza esse evento para os próximos disparos.\n    if (this.disabled) {\n      event.preventDefault();\n    } else {\n      this.triggerEvent({ originalEvent: originalEvent });\n    }\n  }\n\n  componentWillLoad() {\n    this.updateLinkState(this.disabled);\n  }\n\n  getCssClassMap() {\n    return classNames(\n      'alc-menu-link',\n      this.disabled && 'alc-menu-link--disabled',\n    );\n  }\n\n  render() {\n    return (\n      <Host\n      class={this.getCssClassMap()}\n      aria-disabled={this.disabled ? 'true' : null}\n      onClick={this.handleClick.bind(this)}\n      onKeyDown={this.handleKeyDown.bind(this)}\n      >\n          <slot />\n      </Host>\n    );\n  }\n}"],"mappings":"4HAAA,MAAMA,EAAiB,yhD,MCgBVC,EAAW,MALxB,WAAAC,CAAAC,G,gDAUEC,KAAQC,SAAa,MAYbD,KAAYE,aAAkB,KAC9BF,KAAaG,cAAkB,IAgFxC,CA7EC,oBAAAC,CAAqBC,GACnBL,KAAKM,gBAAgBD,E,CAGvB,YAAAE,CAAaC,GACX,GAAIR,KAAKC,SAAU,CACjB,M,CAEFD,KAAKS,UAAUC,KAAKF,E,CAGtB,eAAAF,CAAgBL,GACd,MAAMU,EAASX,KAAKY,YAAYC,cAAc,KAC9C,GAAIF,EAAQ,CACV,GAAIV,EAAU,CACZD,KAAKE,aAAeS,EAAOG,aAAa,QACxCH,EAAOI,aAAa,gBAAiB,QACrCJ,EAAOK,UAAUC,IAAI,2BACrBN,EAAOI,aAAa,WAAY,MAChCJ,EAAOO,gBAAgB,QACvBP,EAAOI,aAAa,OAAQ,W,KACvB,CACL,GAAIf,KAAKE,aAAc,CACrBS,EAAOI,aAAa,OAAQf,KAAKE,a,CAEnCS,EAAOO,gBAAgB,iBACvBP,EAAOK,UAAUG,OAAO,2BACxBR,EAAOI,aAAa,WAAY,KAChCJ,EAAOI,aAAa,OAAQ,W,GAKlC,aAAAK,CAAcC,GACZ,IAAKrB,KAAKC,UAAYoB,EAAMC,MAAQ,IAAK,CACvCD,EAAME,iBACN,MAAMZ,EAASX,KAAKY,YAAYC,cAAc,KAC9C,GAAIF,EAAQ,CACVX,KAAKG,cAAgBkB,EACrBV,EAAOa,O,GAKb,WAAAC,CAAYJ,G,MACV,MAAMK,GAAgBC,EAAA3B,KAAKG,iBAAa,MAAAwB,SAAA,EAAAA,EAAIN,EAC5CrB,KAAKG,cAAgB,KACrB,GAAIH,KAAKC,SAAU,CACjBoB,EAAME,gB,KACD,CACLvB,KAAKO,aAAa,CAAEmB,cAAeA,G,EAIvC,iBAAAE,GACE5B,KAAKM,gBAAgBN,KAAKC,S,CAG5B,cAAA4B,GACE,OAAOC,EACL,gBACA9B,KAAKC,UAAY,0B,CAIrB,MAAA8B,GACE,OACEC,EAACC,EAAI,CAAAX,IAAA,2CACLY,MAAOlC,KAAK6B,iBACG,gBAAA7B,KAAKC,SAAW,OAAS,KACxCkC,QAASnC,KAAKyB,YAAYW,KAAKpC,MAC/BqC,UAAWrC,KAAKoB,cAAcgB,KAAKpC,OAE/BgC,EAAQ,QAAAV,IAAA,6C","ignoreList":[]}