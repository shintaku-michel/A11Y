{"version":3,"names":["alcViewMoreCss","AlcViewMore","exports","class_1","hostRef","this","toggleTextOpen","toggleTextClose","togglePosition","textClass","minHeight","bgColorVar","contentId","getUniqueId","prototype","toggle","e","preventDefault","contentExpanded","setPosition","getContentCssClasses","classes","concat","componentWillLoad","componentDidRender","content","el","querySelector","maxH","scrollHeight","style","setProperty","render","_this","h","Host","key","id","class","href","onClick","toString","role"],"sources":["src/components/alc-view-more/alc-view-more.css?tag=alc-view-more","src/components/alc-view-more/alc-view-more.tsx"],"sourcesContent":["alc-view-more {\n  @apply block;\n}\n.alc-view-more__content {\n  @apply max-h-[var(--min-height)] overflow-hidden flex flex-col justify-between transition-all duration-500 ease-in-out relative;\n}\n.alc-view-more__content--opened {\n  @apply max-h-[var(--max-height)];\n}\n.alc-view-more__content::before {\n  @apply bg-gradient-to-b from-transparent to-[var(--bg-color)] h-16 bottom-0 absolute right-0 left-0 content-[\"\"];\n}\n.alc-view-more__content--opened::before {\n  @apply hidden;\n}\n.alc-view-more__toggle {\n  @apply flex w-full;\n}\n","import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId'\n@Component({\n  tag: 'alc-view-more',\n  styleUrl: 'alc-view-more.css'\n})\nexport class AlcViewMore {\n  @Element() el!: HTMLElement;\n  /**\n   * Nome da ação para revelar o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextOpen: string = 'Veja mais...';\n  /**\n   * Nome da ação para esconder o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextClose: string = 'Fechar';\n  /**\n   * Alinhamento do botão de ação.\n   */\n  @Prop({ reflect: true }) togglePosition: string = 'center';\n  /**\n   * Classes CSS para serem aplicadas ao texto da ação.\n   */\n  @Prop({ reflect: true }) textClass: string = '';\n  /**\n   * Tamanho mínimo do conteúdo a ser exibido.\n   * Pode ser em px, rem ou em: 200px; 20rem; 10em;\n   */\n  @Prop({ reflect: true }) minHeight: string = '8em';\n\n  /**\n   * Nome da variável CSS correspondente à cor de fundo em que o componente está inserido.\n   * Aplica-se ao degradê do corte do texto.\n   */\n  @Prop({ reflect: true }) bgColorVar: string = '--alc-color-surface-primary';\n\n  @State() contentExpanded: boolean;\n\n  private contentId = getUniqueId();\n\n  toggle(e: Event) {\n    e.preventDefault();\n    this.contentExpanded = !this.contentExpanded;\n  }\n\n  setPosition() {\n    if (this.togglePosition === 'right') {\n      return 'justify-end';\n    }\n    if (this.togglePosition === 'left') {\n      return 'justify-start';\n    }\n\n    return 'justify-center';\n  }\n\n  getContentCssClasses() {\n    let classes = `alc-view-more__content ${this.textClass}`;\n\n    if (this.contentExpanded) {\n      classes = `${classes} alc-view-more__content--opened`;\n    }\n    return classes;\n  }\n\n  componentWillLoad() {\n    this.contentExpanded = false;\n  }\n\n  componentDidRender() {\n    let content = this.el.querySelector('.alc-view-more__content') as HTMLElement;\n    let maxH = content.scrollHeight;\n    content.style.setProperty('--min-height', this.minHeight);\n    content.style.setProperty('--max-height', maxH + 'px');\n    content.style.setProperty('--bg-color', `var(${this.bgColorVar})`);\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          id={this.contentId}\n          class={this.getContentCssClasses()}\n        >\n          <slot></slot>\n        </div>\n        <div class={'alc-view-more__toggle ' + (this.setPosition())}>\n          <a href={'#'+this.contentId} onClick={e => {this.toggle(e)}} aria-expanded={this.contentExpanded.toString()} aria-controls={this.contentId} role=\"button\">\n            {this.contentExpanded ? this.toggleTextClose : this.toggleTextOpen}\n          </a>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"wMAAA,IAAMA,EAAiB,2sC,ICMVC,EAAWC,EAAA,2BAJxB,SAAAC,EAAAC,G,UAS2BC,KAAcC,eAAW,eAIzBD,KAAeE,gBAAW,SAI1BF,KAAcG,eAAW,SAIzBH,KAASI,UAAW,GAKpBJ,KAASK,UAAW,MAMpBL,KAAUM,WAAW,8BAItCN,KAASO,UAAGC,GAwDrB,CAtDCV,EAAAW,UAAAC,OAAA,SAAOC,GACLA,EAAEC,iBACFZ,KAAKa,iBAAmBb,KAAKa,e,EAG/Bf,EAAAW,UAAAK,YAAA,WACE,GAAId,KAAKG,iBAAmB,QAAS,CACnC,MAAO,a,CAET,GAAIH,KAAKG,iBAAmB,OAAQ,CAClC,MAAO,e,CAGT,MAAO,gB,EAGTL,EAAAW,UAAAM,qBAAA,WACE,IAAIC,EAAU,0BAAAC,OAA0BjB,KAAKI,WAE7C,GAAIJ,KAAKa,gBAAiB,CACxBG,EAAU,GAAAC,OAAGD,EAAO,kC,CAEtB,OAAOA,C,EAGTlB,EAAAW,UAAAS,kBAAA,WACElB,KAAKa,gBAAkB,K,EAGzBf,EAAAW,UAAAU,mBAAA,WACE,IAAIC,EAAUpB,KAAKqB,GAAGC,cAAc,2BACpC,IAAIC,EAAOH,EAAQI,aACnBJ,EAAQK,MAAMC,YAAY,eAAgB1B,KAAKK,WAC/Ce,EAAQK,MAAMC,YAAY,eAAgBH,EAAO,MACjDH,EAAQK,MAAMC,YAAY,aAAc,OAAAT,OAAOjB,KAAKM,WAAU,K,EAGhER,EAAAW,UAAAkB,OAAA,eAAAC,EAAA5B,KACE,OACE6B,EAACC,EAAI,CAAAC,IAAA,4CACHF,EACE,OAAAE,IAAA,2CAAAC,GAAIhC,KAAKO,UACT0B,MAAOjC,KAAKe,wBAEZc,EAAA,QAAAE,IAAA,8CAEFF,EAAK,OAAAE,IAAA,2CAAAE,MAAO,yBAA4BjC,KAAKc,eAC3Ce,EAAG,KAAAE,IAAA,2CAAAG,KAAM,IAAIlC,KAAKO,UAAW4B,QAAS,SAAAxB,GAAMiB,EAAKlB,OAAOC,EAAE,EAAkB,gBAAAX,KAAKa,gBAAgBuB,WAA2B,gBAAApC,KAAKO,UAAW8B,KAAK,UAC9IrC,KAAKa,gBAAkBb,KAAKE,gBAAkBF,KAAKC,iB,uHAlFxC,I","ignoreList":[]}