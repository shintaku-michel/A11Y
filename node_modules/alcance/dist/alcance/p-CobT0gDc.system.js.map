{"version":3,"file":"p-CobT0gDc.system.js","sources":["src/components/utils/theme.ts"],"sourcesContent":["/*\n  Controle do tema.\n  Inspirado em \"Dark mode Series' Articles\": https://dev.to/ayc0/series/12983\n */\n\nfunction loadUserPreference(): string {\n  return localStorage.getItem('alc-theme') || 'system';\n}\n\nfunction saveUserPreference(theme: 'light' | 'dark') : void {\n  localStorage.setItem('alc-theme', theme);\n}\n\nfunction removeUserPreference() : void {\n  localStorage.removeItem('alc-theme');\n}\n\nfunction getAppliedTheme(userPreference: string) : 'light' | 'dark' {\n  // Usuário definiu sua preferência (light ou dark)\n  if (userPreference === 'light') {\n    return 'light';\n  }\n  if (userPreference === 'dark') {\n    return 'dark';\n  }\n\n  // Usuário não definiu sua preferência aqui\n  // mas indicou dark por meio do sistema operacional\n  if (matchMedia('(prefers-color-scheme: dark)').matches) {\n    return 'dark';\n  }\n\n  // Por default, light\n  return 'light';\n}\n\nfunction setAppliedTheme(theme: 'light' | 'dark') : void {\n\n  let themeTag = document.querySelector('html').dataset.alcThemeTag ;\n\n  themeTag = themeTag === undefined ? 'html' : themeTag;\n\n  if (themeTag === '') {\n    return;\n  }\n\n  const tags = document.querySelectorAll(themeTag);\n\n  tags.forEach(tag => {\n    if (tag instanceof HTMLElement) {\n      tag.dataset['alcTheme'] = theme;\n    };\n  });\n}\n\nfunction getMode(): 'base' | 'theme' {\n  // A página informou que não quer usar o tema do Alcance\n  // usando o atributo data-alc-no-theme\n  // <html data-alc-no-theme>\n  const noTheme = document.querySelector('html').dataset.alcNoTheme !== undefined;\n  return noTheme ? 'base' : 'theme';\n}\n\nexport { loadUserPreference, saveUserPreference, removeUserPreference, getAppliedTheme, setAppliedTheme, getMode };"],"names":[],"mappings":";;;;;;;;;;;;;;MAAA;;;MAGG;MAEH,SAAS,kBAAkB,GAAA;UACzB,OAAO,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,QAAQ;MACtD;MAEA,SAAS,kBAAkB,CAAC,KAAuB,EAAA;MACjD,IAAA,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC;MAC1C;MAEA,SAAS,oBAAoB,GAAA;MAC3B,IAAA,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC;MACtC;MAEA,SAAS,eAAe,CAAC,cAAsB,EAAA;;MAE7C,IAAA,IAAI,cAAc,KAAK,OAAO,EAAE;MAC9B,QAAA,OAAO,OAAO;;MAEhB,IAAA,IAAI,cAAc,KAAK,MAAM,EAAE;MAC7B,QAAA,OAAO,MAAM;;;;MAKf,IAAA,IAAI,UAAU,CAAC,8BAA8B,CAAC,CAAC,OAAO,EAAE;MACtD,QAAA,OAAO,MAAM;;;MAIf,IAAA,OAAO,OAAO;MAChB;MAEA,SAAS,eAAe,CAAC,KAAuB,EAAA;MAE9C,IAAA,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,WAAW;MAEjE,IAAA,QAAQ,GAAG,QAAQ,KAAK,SAAS,GAAG,MAAM,GAAG,QAAQ;MAErD,IAAA,IAAI,QAAQ,KAAK,EAAE,EAAE;cACnB;;UAGF,MAAM,IAAI,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC;MAEhD,IAAA,IAAI,CAAC,OAAO,CAAC,GAAG,IAAG;MACjB,QAAA,IAAI,GAAG,YAAY,WAAW,EAAE;MAC9B,YAAA,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK;;MAEnC,KAAC,CAAC;MACJ;MAEA,SAAS,OAAO,GAAA;;;;MAId,IAAA,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,KAAK,SAAS;UAC/E,OAAO,OAAO,GAAG,MAAM,GAAG,OAAO;MACnC;;;;;;;;"}