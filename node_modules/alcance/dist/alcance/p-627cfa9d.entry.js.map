{"version":3,"names":["alcSkipToNavCss","MD_BREAKPOINT","Number","screens","md","split","AlcSkipToNav","constructor","hostRef","this","handleClick","event","preventDefault","window","innerWidth","drawerButton","document","querySelector","logger","warn","HTMLButtonElement","focus","skipped","navpanel","open","nav","focusFirstElement","getFocusableElements","navButton","sidepanel","visible","render","h","Host","key","class","href","onClick"],"sources":["src/components/alc-skip-to-nav/alc-skip-to-nav.css?tag=alc-skip-to-nav","src/components/alc-skip-to-nav/alc-skip-to-nav.tsx"],"sourcesContent":["alc-skip-to-nav {\n  @apply sr-only focus-within:not-sr-only z-10;\n}\n\nalc-skip-to-nav:focus-within {\n  @apply absolute p-4 w-full text-center top-0 bg-skin-surface-secondary;\n}","import { Component, Host, h } from '@stencil/core';\nimport { focusFirstElement, getFocusableElements } from '../utils/keydown';\nimport screens from '../../../tailwind-screens';\nimport logger from '../utils/logger';\n\nconst MD_BREAKPOINT = Number(screens.md.split('px')[0]);\n\n@Component({\n  tag: 'alc-skip-to-nav',\n  styleUrl: 'alc-skip-to-nav.css',\n  scoped: false\n})\nexport class AlcSkipToNav {\n  handleClick = (event: MouseEvent) => {\n    event.preventDefault();\n\n    // Abaixo do breakpoint md, é renderizado o drawer.\n    if (window.innerWidth < MD_BREAKPOINT) {\n      // Procura pelo botão que abre o drawer: ou o gerado pelo alc-header(-v2), ou o gerado pelo sidepanel.\n      const drawerButton = document.querySelector('[data-alc-header-drawer-button], [data-alc-sidepanel-drawer-button]');\n\n      if (!drawerButton) {\n        logger.warn('O componente <alc-skip-to-nav> necessita de <alc-header> ou <alc-sidepanel> para funcionar corretamente no modo mobile.');\n        return;\n      }\n\n      if (drawerButton instanceof HTMLButtonElement) {\n        drawerButton.focus();\n      }\n\n      return;\n    }\n\n    // Lógica para não mobile\n\n    let skipped = false;\n\n    // Cenário 1 - alc-nav-panel\n    const navpanel = document.querySelector('alc-nav-panel');\n    if (navpanel) {\n      if (navpanel.open) {\n        const nav = navpanel.querySelector('alc-nav');\n        if (nav) {\n          focusFirstElement(getFocusableElements(nav));\n          skipped = true;\n        }\n        else {\n          logger.warn('Ao usar o <alc-nav-panel>, é necessário <alc-nav> dentro dele para <alc-skip-top-nav> funcionar corretamente.');\n          return; // Aqui, não há mais nada a fazer.\n        }\n      }\n      else { // navpanel fechado\n        const navButton = document.querySelector('[data-alc-navpanel-button]');\n        if (navButton instanceof HTMLButtonElement) {\n          navButton.focus();\n          skipped = true;\n        }\n      }\n    }\n\n    if (skipped) {\n      return;\n    }\n\n    // Cenário 2 - alc-sidepanel (legado)\n    const sidepanel = document.querySelector('alc-sidepanel');\n    if (sidepanel) {\n      if (sidepanel.visible) {\n        const nav = sidepanel.querySelector('alc-nav');\n        if (nav) {\n          focusFirstElement(getFocusableElements(nav));\n          skipped = true;\n        }\n        else {\n          logger.warn('Ao usar o <alc-sidepanel>, é necessário <alc-nav> dentro dele para <alc-skip-top-nav> funcionar corretamente.');\n          return; // Aqui, não há mais nada a fazer.\n        }\n      }\n      else { // sidepanel fechado\n        const navButton = document.querySelector('[data-alc-sidepanel-button]');\n        if (navButton instanceof HTMLButtonElement) {\n          navButton.focus();\n          skipped = true;\n        }\n      }\n    }\n\n    if (skipped) {\n      return;\n    }\n\n    // Cenário 3 - alc-nav sem nenhum dos painéis (genérico)\n    const nav = document.querySelector('alc-nav');\n    if (nav) {\n      focusFirstElement(getFocusableElements(nav));\n      skipped = true;\n    }\n\n    if (!skipped) {\n      logger.warn('O componente <alc-skip-to-nav> não localizou os elementos necessários para funcionar corretamente. Verifique a documentação do componente.');\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <a\n          class='alc-link text-center'\n          href='#'\n          onClick={this.handleClick}\n        >\n          Ir para navegação\n        </a>\n      </Host>\n    );\n  }\n}\n"],"mappings":"qKAAA,MAAMA,EAAkB,gaCKxB,MAAMC,EAAgBC,OAAOC,EAAQC,GAAGC,MAAM,MAAM,I,MAOvCC,EAAY,MALzB,WAAAC,CAAAC,G,UAMEC,KAAAC,YAAeC,IACbA,EAAMC,iBAGN,GAAIC,OAAOC,WAAab,EAAe,CAErC,MAAMc,EAAeC,SAASC,cAAc,uEAE5C,IAAKF,EAAc,CACjBG,EAAOC,KAAK,2HACZ,M,CAGF,GAAIJ,aAAwBK,kBAAmB,CAC7CL,EAAaM,O,CAGf,M,CAKF,IAAIC,EAAU,MAGd,MAAMC,EAAWP,SAASC,cAAc,iBACxC,GAAIM,EAAU,CACZ,GAAIA,EAASC,KAAM,CACjB,MAAMC,EAAMF,EAASN,cAAc,WACnC,GAAIQ,EAAK,CACPC,EAAkBC,EAAqBF,IACvCH,EAAU,I,KAEP,CACHJ,EAAOC,KAAK,iHACZ,M,MAGC,CACH,MAAMS,EAAYZ,SAASC,cAAc,8BACzC,GAAIW,aAAqBR,kBAAmB,CAC1CQ,EAAUP,QACVC,EAAU,I,GAKhB,GAAIA,EAAS,CACX,M,CAIF,MAAMO,EAAYb,SAASC,cAAc,iBACzC,GAAIY,EAAW,CACb,GAAIA,EAAUC,QAAS,CACrB,MAAML,EAAMI,EAAUZ,cAAc,WACpC,GAAIQ,EAAK,CACPC,EAAkBC,EAAqBF,IACvCH,EAAU,I,KAEP,CACHJ,EAAOC,KAAK,iHACZ,M,MAGC,CACH,MAAMS,EAAYZ,SAASC,cAAc,+BACzC,GAAIW,aAAqBR,kBAAmB,CAC1CQ,EAAUP,QACVC,EAAU,I,GAKhB,GAAIA,EAAS,CACX,M,CAIF,MAAMG,EAAMT,SAASC,cAAc,WACnC,GAAIQ,EAAK,CACPC,EAAkBC,EAAqBF,IACvCH,EAAU,I,CAGZ,IAAKA,EAAS,CACZJ,EAAOC,KAAK,6I,EAiBjB,CAbC,MAAAY,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,KAAAE,IAAA,2CACEC,MAAM,uBACNC,KAAK,IACLC,QAAS5B,KAAKC,aAGZ,qB","ignoreList":[]}