{"version":3,"file":"p-LPm4KtEo.system.js","sources":["src/components/alc-view-more/alc-view-more.css?tag=alc-view-more","src/components/alc-view-more/alc-view-more.tsx"],"sourcesContent":["alc-view-more {\n  @apply block;\n}\n.alc-view-more__content {\n  @apply max-h-[var(--min-height)] overflow-hidden flex flex-col justify-between transition-all duration-500 ease-in-out relative;\n}\n.alc-view-more__content--opened {\n  @apply max-h-[var(--max-height)];\n}\n.alc-view-more__content::before {\n  @apply bg-gradient-to-b from-transparent to-[var(--bg-color)] h-16 bottom-0 absolute right-0 left-0 content-[\"\"];\n}\n.alc-view-more__content--opened::before {\n  @apply hidden;\n}\n.alc-view-more__toggle {\n  @apply flex w-full;\n}\n","import { Component, Element, Host, Prop, State, h } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId'\n@Component({\n  tag: 'alc-view-more',\n  styleUrl: 'alc-view-more.css'\n})\nexport class AlcViewMore {\n  @Element() el!: HTMLElement;\n  /**\n   * Nome da ação para revelar o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextOpen: string = 'Veja mais...';\n  /**\n   * Nome da ação para esconder o conteúdo.\n   */\n  @Prop({ reflect: true }) toggleTextClose: string = 'Fechar';\n  /**\n   * Alinhamento do botão de ação.\n   */\n  @Prop({ reflect: true }) togglePosition: string = 'center';\n  /**\n   * Classes CSS para serem aplicadas ao texto da ação.\n   */\n  @Prop({ reflect: true }) textClass: string = '';\n  /**\n   * Tamanho mínimo do conteúdo a ser exibido.\n   * Pode ser em px, rem ou em: 200px; 20rem; 10em;\n   */\n  @Prop({ reflect: true }) minHeight: string = '8em';\n\n  /**\n   * Nome da variável CSS correspondente à cor de fundo em que o componente está inserido.\n   * Aplica-se ao degradê do corte do texto.\n   */\n  @Prop({ reflect: true }) bgColorVar: string = '--alc-color-surface-primary';\n\n  @State() contentExpanded: boolean;\n\n  private contentId = getUniqueId();\n\n  toggle(e: Event) {\n    e.preventDefault();\n    this.contentExpanded = !this.contentExpanded;\n  }\n\n  setPosition() {\n    if (this.togglePosition === 'right') {\n      return 'justify-end';\n    }\n    if (this.togglePosition === 'left') {\n      return 'justify-start';\n    }\n\n    return 'justify-center';\n  }\n\n  getContentCssClasses() {\n    let classes = `alc-view-more__content ${this.textClass}`;\n\n    if (this.contentExpanded) {\n      classes = `${classes} alc-view-more__content--opened`;\n    }\n    return classes;\n  }\n\n  componentWillLoad() {\n    this.contentExpanded = false;\n  }\n\n  componentDidRender() {\n    let content = this.el.querySelector('.alc-view-more__content') as HTMLElement;\n    let maxH = content.scrollHeight;\n    content.style.setProperty('--min-height', this.minHeight);\n    content.style.setProperty('--max-height', maxH + 'px');\n    content.style.setProperty('--bg-color', `var(${this.bgColorVar})`);\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          id={this.contentId}\n          class={this.getContentCssClasses()}\n        >\n          <slot></slot>\n        </div>\n        <div class={'alc-view-more__toggle ' + (this.setPosition())}>\n          <a href={'#'+this.contentId} onClick={e => {this.toggle(e)}} aria-expanded={this.contentExpanded.toString()} aria-controls={this.contentId} role=\"button\">\n            {this.contentExpanded ? this.toggleTextClose : this.toggleTextOpen}\n          </a>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}