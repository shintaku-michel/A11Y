import{d as getAssetPath,r as registerInstance,h,H as Host,g as getElement}from"./index-BuFKlV49.js";import{l as logger}from"./logger-CZkdJRkw.js";var CACHED_MAP;var getIconMap=function(){if(typeof window==="undefined"){return new Map}else{if(!CACHED_MAP){var e=window;e.Ionicons=e.Ionicons||{};CACHED_MAP=e.Ionicons.map=e.Ionicons.map||new Map}return CACHED_MAP}};var getUrl=function(e){var i=getSrc(e.src);if(i){return i}i=getName(e.name,e.icon);if(i){return getNamedUrl(i)}if(e.icon){i=getSrc(e.icon);if(i){return i}i=getSrc(e.icon);if(i){return i}}return null};var getNamedUrl=function(e){var i=getIconMap().get(e);if(i){return i}return getAssetPath("assets/icons/".concat(e,".svg"))};var getName=function(e,i){if(!e&&i&&!isSrc(i)){e=i}if(isStr(e)){e=toLower(e)}if(!isStr(e)||e.trim()===""){return null}var n=e.replace(/[a-z]|-|\d/gi,"");if(n!==""){return null}return e};var getSrc=function(e){if(isStr(e)){e=e.trim();if(isSrc(e)){return e}}return null};var isSrc=function(e){return e.length>0&&/(\/|\.)/.test(e)};var isStr=function(e){return typeof e==="string"};var toLower=function(e){return e.toLowerCase()};var inheritAttributes=function(e,i){if(i===void 0){i=[]}var n={};i.forEach((function(i){if(e.hasAttribute(i)){var t=e.getAttribute(i);if(t!==null){n[i]=e.getAttribute(i)}e.removeAttribute(i)}}));return n};var validateContent=function(e){var i=document.createElement("div");i.innerHTML=e;for(var n=i.childNodes.length-1;n>=0;n--){if(i.childNodes[n].nodeName.toLowerCase()!=="svg"){i.removeChild(i.childNodes[n])}}var t=i.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){var r=t.getAttribute("class")||"";t.setAttribute("class",(r+" alc-icon__image").trim());if(isValid(t)){return i.innerHTML}}return""};var isValid=function(e){if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script"){return false}for(var i=0;i<e.attributes.length;i++){var n=e.attributes[i].nodeName;if(isStr(n)&&n.toLowerCase().indexOf("on")===0){return false}}for(var i=0;i<e.childNodes.length;i++){if(!isValid(e.childNodes[i])){return false}}}return true};var alciconContent=new Map;var requests=new Map;var addSvgClass=function(e,i){var n=document.createElement("div");n.innerHTML=e;n.querySelector("svg").classList.add(i);return n.innerHTML};var getSvgContent=function(e,i){var n=requests.get(e);if(!n){if(typeof fetch!=="undefined"&&typeof document!=="undefined"){n=fetch(e).then((function(n){if(n.ok){return n.text().then((function(n){if(n&&i!==false){n=validateContent(n)}if(n){n=addSvgClass(n,"alc-icon__image")}alciconContent.set(e,n||"")}))}alciconContent.set(e,"")}));requests.set(e,n)}else{alciconContent.set(e,"");return Promise.resolve()}}return n};var alcIconCss="alc-icon{display:inline-block}.icon-inner{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}alc-icon.size-x-small{font-size:0.75rem;line-height:1rem}alc-icon.size-small{font-size:0.875rem;line-height:1rem}alc-icon.size-medium{font-size:1rem;line-height:1.5rem}alc-icon.size-large{font-size:1.125rem;line-height:1.5rem}alc-icon.size-x-large{font-size:1.25rem;line-height:1.5rem}alc-icon.size-xx-large{font-size:1.375rem;line-height:2rem}.alc-icon__image{position:relative;top:0.125em;margin-top:-0.125em;height:1em;width:1em}";var AlcIcon=function(){function e(e){var i=this;registerInstance(this,e);this.iconName=null;this.inheritedAttributes={};this.role="img";this.isVisible=false;this.flipRtl=false;this.lazy=false;this.sanitize=false;this.hasAriaHidden=function(){var e=i.el;return e.hasAttribute("aria-hidden")&&e.getAttribute("aria-hidden")==="true"}}e.prototype.componentWillLoad=function(){this.inheritedAttributes=inheritAttributes(this.el,["aria-label"])};e.prototype.connectedCallback=function(){var e=this;this.waitUntilVisible(this.el,"50px",(function(){e.isVisible=true;e.loadIcon()}))};e.prototype.disconnectedCallback=function(){if(this.io){this.io.disconnect();this.io=undefined}};e.prototype.waitUntilVisible=function(e,i,n){var t=this;if(this.lazy&&typeof window!=="undefined"&&window.IntersectionObserver){var r=this.io=new window.IntersectionObserver((function(e){if(e[0].isIntersecting){r.disconnect();t.io=undefined;n()}}),{rootMargin:i});r.observe(e)}else{n()}};e.prototype.loadIcon=function(){var e=this;if(this.isVisible){var i=getUrl(this);if(i){if(alciconContent.has(i)){this.svgContent=alciconContent.get(i);logger.log(this.svgContent)}else{getSvgContent(i,this.sanitize).then((function(){return e.svgContent=alciconContent.get(i)}))}}}if(this.label){this.ariaLabel=this.label;this.role="img"}else if(this.label===""){this.ariaLabel=undefined;this.role="presentation"}};e.prototype.render=function(){var e;(e=this.label)!==null&&e!==void 0?e:logger.report("label",this.el.tagName.toLowerCase(),this.el);var i=this,n=i.label,t=i.iconName,r=i.ariaLabel,s=i.inheritedAttributes,a=i.role;var o=this.flipRtl||t&&(t.indexOf("arrow")>-1||t.indexOf("chevron")>-1)&&this.flipRtl!==false;return h(Host,Object.assign({key:"d9c68737d9c24cc00a11fb0f95d44529b2093f1e",label:n,"aria-label":r!==undefined&&!this.hasAriaHidden()?r:null,role:a,class:{"flip-rtl":!!o&&this.el.ownerDocument.dir==="rtl"}},s),this.svgContent?h("span",{class:"icon-inner",innerHTML:this.svgContent}):h("span",{class:"icon-inner"},n))};Object.defineProperty(e,"assetsDirs",{get:function(){return["assets/icons"]},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{label:["loadIcon"],name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"]}},enumerable:false,configurable:true});return e}();AlcIcon.style=alcIconCss;export{AlcIcon as alc_icon};
//# sourceMappingURL=alc-icon.entry.js.map