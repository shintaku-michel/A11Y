{"version":3,"file":"theme-P2DHLxHb.js","sources":["src/components/utils/theme.ts"],"sourcesContent":["/*\n  Controle do tema.\n  Inspirado em \"Dark mode Series' Articles\": https://dev.to/ayc0/series/12983\n */\n\nfunction loadUserPreference(): string {\n  return localStorage.getItem('alc-theme') || 'system';\n}\n\nfunction saveUserPreference(theme: 'light' | 'dark') : void {\n  localStorage.setItem('alc-theme', theme);\n}\n\nfunction removeUserPreference() : void {\n  localStorage.removeItem('alc-theme');\n}\n\nfunction getAppliedTheme(userPreference: string) : 'light' | 'dark' {\n  // Usuário definiu sua preferência (light ou dark)\n  if (userPreference === 'light') {\n    return 'light';\n  }\n  if (userPreference === 'dark') {\n    return 'dark';\n  }\n\n  // Usuário não definiu sua preferência aqui\n  // mas indicou dark por meio do sistema operacional\n  if (matchMedia('(prefers-color-scheme: dark)').matches) {\n    return 'dark';\n  }\n\n  // Por default, light\n  return 'light';\n}\n\nfunction setAppliedTheme(theme: 'light' | 'dark') : void {\n\n  let themeTag = document.querySelector('html').dataset.alcThemeTag ;\n\n  themeTag = themeTag === undefined ? 'html' : themeTag;\n\n  if (themeTag === '') {\n    return;\n  }\n\n  const tags = document.querySelectorAll(themeTag);\n\n  tags.forEach(tag => {\n    if (tag instanceof HTMLElement) {\n      tag.dataset['alcTheme'] = theme;\n    };\n  });\n}\n\nfunction getMode(): 'base' | 'theme' {\n  // A página informou que não quer usar o tema do Alcance\n  // usando o atributo data-alc-no-theme\n  // <html data-alc-no-theme>\n  const noTheme = document.querySelector('html').dataset.alcNoTheme !== undefined;\n  return noTheme ? 'base' : 'theme';\n}\n\nexport { loadUserPreference, saveUserPreference, removeUserPreference, getAppliedTheme, setAppliedTheme, getMode };"],"names":[],"mappings":";;AAAA;;;AAGG;AAEH,SAAS,kBAAkB,GAAA;IACzB,OAAO,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,QAAQ;AACtD;AAEA,SAAS,kBAAkB,CAAC,KAAuB,EAAA;AACjD,IAAA,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC;AAC1C;AAEA,SAAS,oBAAoB,GAAA;AAC3B,IAAA,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC;AACtC;AAEA,SAAS,eAAe,CAAC,cAAsB,EAAA;;AAE7C,IAAA,IAAI,cAAc,KAAK,OAAO,EAAE;AAC9B,QAAA,OAAO,OAAO;;AAEhB,IAAA,IAAI,cAAc,KAAK,MAAM,EAAE;AAC7B,QAAA,OAAO,MAAM;;;;AAKf,IAAA,IAAI,UAAU,CAAC,8BAA8B,CAAC,CAAC,OAAO,EAAE;AACtD,QAAA,OAAO,MAAM;;;AAIf,IAAA,OAAO,OAAO;AAChB;AAEA,SAAS,eAAe,CAAC,KAAuB,EAAA;AAE9C,IAAA,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,WAAW;AAEjE,IAAA,QAAQ,GAAG,QAAQ,KAAK,SAAS,GAAG,MAAM,GAAG,QAAQ;AAErD,IAAA,IAAI,QAAQ,KAAK,EAAE,EAAE;QACnB;;IAGF,MAAM,IAAI,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC;AAEhD,IAAA,IAAI,CAAC,OAAO,CAAC,GAAG,IAAG;AACjB,QAAA,IAAI,GAAG,YAAY,WAAW,EAAE;AAC9B,YAAA,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK;;AAEnC,KAAC,CAAC;AACJ;AAEA,SAAS,OAAO,GAAA;;;;AAId,IAAA,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,KAAK,SAAS;IAC/E,OAAO,OAAO,GAAG,MAAM,GAAG,OAAO;AACnC;;;;;;;;;"}