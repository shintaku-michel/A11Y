{"version":3,"file":"alc-dropdown.alc-menu.entry.cjs.js","sources":["src/components/alc-dropdown/alc-dropdown.css?tag=alc-dropdown","src/components/alc-dropdown/alc-dropdown.tsx","src/components/alc-menu/alc-menu.css?tag=alc-menu","src/components/alc-menu/alc-menu.tsx"],"sourcesContent":["[data-alc-theme=\"dark\"] alc-dropdown {\n  --border-color: var(--alc-color-neutral-80);\n}\n\n[data-alc-theme=\"light\"] alc-dropdown {\n  --border-color: var(--alc-color-neutral-10);\n}\n\n\nalc-dropdown {\n  @apply relative inline-block;\n}\n\n.alc-dropdown__content {\n  @apply bg-[color:var(--alc-color-surface-primary)] overflow-auto;\n  @apply drop-shadow-md shadow-black rounded border border-[color:var(--border-color)];\n  /* Vai pegar a altura máxima do pai (popup) permitindo funcionar o overflow */\n  max-height: inherit;\n\n  /* animation: Scale 100ms ease-in-out; */\n}\n\n.alc-dropdown__content--opened {\n  @apply block;\n}\n\n@keyframes Scale {\n  0% {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n","import { Component, Prop, h, Host, Element, Listen, Watch, Method, Event, EventEmitter } from '@stencil/core';\nimport { getFocusableElements } from '../utils/keydown';\nimport { getUniqueId } from '../utils/getUniqueId';\nimport logger from '../utils/logger';\n\n\n/**\n * @slot - O conteúdo do dropdown.\n * @slot trigger - O disparador do dropdown, usualmente um botão.\n */\n@Component({\n  tag: 'alc-dropdown',\n  styleUrl: 'alc-dropdown.css',\n  shadow: false,\n})\nexport class AlcDropdown {\n  @Element() el: HTMLElement;\n  private trigger: HTMLElement;\n  private content: HTMLElement;\n  private originalTriggerTabindex: number | null;\n  private hideOnEventsMap: Map<string, EventListener> = new Map();\n\n  /**\n   * Indica se o dropdown esta aberto ou não. Pode-se usar essa propriedade em vez dos métodos show/hide.\n   */\n  @Prop({\n    reflect: true,\n    mutable: true\n  }) open: boolean = false;\n\n  @Watch('open')\n  watchOpen() {\n    if (this.trigger) {\n      this.handleTriggerAriaExpanded();\n      this.handleTriggerTabindex();\n    }\n  }\n\n  /**\n   * Nome do evento que, ao ocorrer no conteúdo do dropdown, vai fazer com que ele seja fechado.\n   * Podem ser informados vários eventos, separados por um espaço em branco.\n   */\n  @Prop({\n    reflect: true,\n    mutable: false,\n  }) hideOn: string = '';\n\n  @Watch('hideOn')\n  watchHideOn() {\n    // Remove todos os eventos anteriores\n    this.hideOnEventsMap.forEach((listener, eventName) => {\n      this.content.removeEventListener(eventName, listener);\n      this.hideOnEventsMap.delete(eventName);\n    })\n\n    // Adiciona todos os novos eventos\n    this.addHideOnListeners();\n  }\n\n  @Listen('keydown')\n  async handleKeydown(event: KeyboardEvent) {\n    if (!this.open) return;\n    \n    if (event.key !== 'Escape') return;\n\n    if (event.defaultPrevented) return;\n\n    event.preventDefault();\n    await this.hide();\n    this.handleTriggerFocus();\n  }\n\n  /**\n   * Evento disparado quando o dropdown vai abrir\n   */\n  @Event({\n    eventName: 'alc-show',\n    cancelable: true,\n    bubbles: true,\n  })\n  alcShow: EventEmitter<null>;\n\n  /**\n   * Evento disparado quando o dropdown abriu\n   */\n  @Event({\n    eventName: 'alc-after-show',\n    cancelable: false,\n    bubbles: true,\n  })\n  alcAfterShow: EventEmitter<null>;\n\n  /**\n   * Evento disparado quando o dropdown vai fechar\n   */\n  @Event({\n    eventName: 'alc-hide',\n    cancelable: true,\n    bubbles: true,\n  })\n  alcHide: EventEmitter<null>;\n\n  /**\n   * Evento disparado quando o dropdown fechou\n   */\n  @Event({\n    eventName: 'alc-after-hide',\n    cancelable: false,\n    bubbles: true,\n  })\n  alcAfterHide: EventEmitter<null>;\n\n  /**\n   * Método para abrir o dropdown.\n   * @returns O valor retornado é `true` se o dropdown foi realmente exibido com essa chamada ao método.\n   */\n  @Method()\n  async show(): Promise<boolean> {\n    if (this.open) {\n      return false;\n    }\n\n    const { defaultPrevented } = this.alcShow.emit();\n    if (defaultPrevented) {\n      return false;\n    }\n\n    this.open = true;\n    this.alcAfterShow.emit();\n\n    return true;\n  }\n\n  /**\n   * Método para fechar o dropdown.\n   * @returns O valor retornado é `true` se o dropdown foi realmente oculto com essa chamada ao método.\n   */\n  @Method()\n  async hide(): Promise<boolean> {\n    if (!this.open) {\n      return false;\n    }\n\n    const { defaultPrevented } = this.alcHide.emit();\n    if (defaultPrevented) {\n      return false;\n    }\n\n    this.open = false;\n    this.alcAfterHide.emit();\n\n    return true;\n  }\n\n  private handleAnchorClick = (event: MouseEvent) => {\n    if (!(event.target instanceof Node)) {\n      return;\n    }\n\n    // Se o click foi no trigger (ou dentro dele)\n    if (this.trigger?.contains(event.target)) {\n      this.toggleDropdown();\n    }\n  }\n\n  toggleDropdown = async () => {\n    this.open ? this.hide() : this.show();\n  }\n\n  handleTriggerFocus() {\n    this.trigger?.focus();\n  }\n\n  handleContentFocus() {\n    const contentFirstFocusable = getFocusableElements(this.content)[0];\n\n    if(!contentFirstFocusable) return;\n\n    if(contentFirstFocusable instanceof HTMLElement) {\n      contentFirstFocusable.focus();\n    }\n  }\n\n  private setTriggerAccessibility() {\n    if (this.trigger.getAttribute('role') === null) {\n      this.trigger.setAttribute('role', \"button\");\n    }\n\n    const contentElementChild = this.content.firstElementChild;\n\n    if (this.trigger.getAttribute('aria-haspopup') === null) {\n      const ariaHaspopup = contentElementChild?.role === \"menu\" ? \"menu\" : \"dialog\";\n      this.trigger.setAttribute('aria-haspopup', ariaHaspopup);\n    }\n\n    let id = contentElementChild?.id ? contentElementChild.id : getUniqueId();\n\n    // Se não ter conteudo dentro, o id vai no alc-dropdown__content se não vai no conteudo\n    if(!contentElementChild) {\n      this.content.id = id;\n    } else {\n      contentElementChild.id = id;\n    }\n\n    this.trigger.setAttribute('aria-controls', id);\n  }\n\n  private handleTriggerAriaExpanded() {\n    this.trigger.ariaExpanded = `${this.open}`;\n  }\n\n  private handleTriggerTabindex() {\n    this.trigger.tabIndex = this.open ? -1 : this.originalTriggerTabindex;\n  }\n\n  private async handleFocusOut(e: FocusEvent) {\n    const { relatedTarget } = e;\n    const isNode = relatedTarget instanceof Node;\n\n    /*\n      OBSERVAÇÃO:\n      Para que um clique qualquer dentro de content, mesmo se for um elemento não focalizável,\n      não resulte em relatedTarget null, foi definido tabindex=-1 para o content.\n      Se não fosse assim, um clique em um elemento não focalizável dentro de content\n      resultaria no fechamento indesejado do dropdown.\n    */\n    if (isNode && this.el.contains(relatedTarget)) {\n      return;\n    }\n\n    await this.hide();\n  }\n\n  private handleCloseOn(e: Event) {\n    if (e.defaultPrevented) {\n      return;\n    }\n    this.open = false;\n  }\n\n  private addHideOnListeners() {\n    const hideOn = this.hideOn.trim();\n    // Nada a fazer se for um string vazia.\n    if (!hideOn) {\n      return;\n    }\n\n    const eventNames = hideOn.split(/\\s+/);\n\n    eventNames.forEach(eventName => {\n      const listener = (e: Event) => this.handleCloseOn(e);\n      this.hideOnEventsMap.set(eventName, listener);\n      this.content.addEventListener(eventName, listener);\n    });\n  }\n\n  componentDidUpdate() {\n    if(this.open) {\n      // Quando o trigger for acionado por teclado para abrir o foco deve ir para o primeiro elemento focalizável dentro do conteúdo\n      // Foi adicionado para tratar no componentDidUpdate pois no handleKeydown o dropdown ainda esta fechado, logo o 'elemento.focus()' não funciona\n      // Aqui o componente ja foi renderizado com o novo estado.\n      this.handleContentFocus();\n    }\n  }\n\n  getTrigger(): HTMLElement {\n    let slot: HTMLElement = null;\n    let trigger: HTMLElement = null;\n\n    slot = this.el.querySelector('[slot=\"trigger\"]');\n    if (slot) {\n      if (slot.tagName === 'BUTTON' || slot.getAttribute('role') === 'button') {\n        // Trigger é o próprio slot se ele mesmo for o botão\n        trigger = slot;\n      }\n      else {\n        // Trigger é o primeiro botão encontrado dentro do slot (se existir)\n        trigger = slot.querySelector('button, [role=\"button\"]');\n      }\n    }\n\n    if (trigger === null) {\n      logger.warn(this.el, 'alc-dropdown não localizou um trigger válido. Slot deve ser ou conter um botão. Veja a documentação para mais detalhes.');\n    }\n    return trigger;\n  }\n\n  componentDidLoad() {\n\n    this.trigger = this.getTrigger();\n\n    if (this.trigger) {\n      this.setTriggerAccessibility();\n      this.handleTriggerAriaExpanded();\n      this.originalTriggerTabindex = this.trigger.tabIndex;\n    }\n\n    // Adiciona close-on listeners\n    this.addHideOnListeners();\n  }\n\n  render() {\n    return (\n      <Host>\n        <alc-popup\n          active={this.open}\n          placement=\"bottom-start\"\n          flip\n          shift\n          strategy=\"fixed\"\n          onFocusout={this.handleFocusOut.bind(this)}\n          distance={2}\n        >\n          <div slot=\"anchor\" onClick={this.handleAnchorClick}>\n            <slot name=\"trigger\" />\n          </div>\n\n          <div class=\"alc-dropdown__content\" ref={(el) => this.content = el} tabindex='-1'>\n            <slot></slot>\n          </div>\n        </alc-popup>\n      </Host>\n    );\n  }\n}\n\n",".alc-menu {\n  @apply block py-2;\n  @apply bg-[color:var(--alc-color-surface-primary)];\n}\n","import { Component, h, Host, Element, Listen, Method } from '@stencil/core';\n\n@Component({\n  tag: 'alc-menu',\n  styleUrl: 'alc-menu.css',\n  shadow: false,\n})\nexport class AlcMenu {\n  @Element() hostElement: HTMLElement;\n\n  private hasFocus = false;\n\n  private items: Element[];\n\n  @Method()\n  async refresh() {\n    this.items = this.getListItems();\n    this.includeFirstItemInTabNavigation();\n  }\n\n\n  @Listen('keydown')\n  handleKeydown(event: KeyboardEvent) {\n    if ('ArrowDown' === event.key) {\n      event.preventDefault();\n      this.handleFocusedItemIndex();\n      return;\n    }\n\n    if ('ArrowUp' === event.key) {\n      event.preventDefault();\n      this.handleFocusedItemIndex(-1);\n      return;\n    }\n  }\n\n  /**\n   * Focar item recém-selecionado\n   */\n  @Listen('alc-select')\n  handleAlcSelect (e: CustomEvent) {\n    const index = this.items.findIndex(item => item === e.target);\n\n    if(index === null) return;\n\n    this.handleFocusItem(index);\n  }\n\n  @Listen('focusin')\n  handleFocusin ({ target }) {\n    // Se já tem o foco, nada a fazer\n    if (this.hasFocus) {\n      return;\n    }\n    if (this.hostElement.contains(target)) {\n      this.setHasFocus(true);\n    }\n  }\n\n  @Listen('focusout')\n  handleFocusout ({ relatedTarget }) {\n    if (!this.hostElement.contains(relatedTarget)) {\n      this.setHasFocus(false);\n    }\n  }\n\n  handleFocusedItemIndex(direction: -1 | 1 = 1) {\n    const currentIndex = this.items.indexOf(document.activeElement);\n    if (currentIndex === -1) return;\n\n    let nextIndex = currentIndex + direction;\n    const itemsLength = this.items.length - 1;\n\n    if (nextIndex > itemsLength) {\n      nextIndex = 0;\n    }\n\n    if (nextIndex < 0) {\n      nextIndex = itemsLength;\n    }\n\n    this.handleFocusItem(nextIndex);\n  }\n\n  handleFocusItem(index: number) {\n    const item = this.items[index];\n\n    if(item instanceof HTMLElement) {\n      // Seta foco no atual\n      item.focus();\n    }\n\n  }\n\n  getListItems = () => Array.from(this.hostElement.querySelectorAll('[role^=menuitem]'));\n\n  includeFirstItemInTabNavigation = () => {\n    this.items.forEach((item, pos) => {\n      item.setAttribute('tabindex', pos === 0 ? '0' : '-1')\n    });\n  }\n\n  removeAllItemsFromTabNavigation = () => {\n    this.items.forEach(item => item.setAttribute('tabindex', '-1'));\n  }\n\n\n  setHasFocus = (hasFocus = true) => {\n\n    this.hasFocus = hasFocus;\n\n    if (hasFocus) {\n      this.removeAllItemsFromTabNavigation();\n    }\n    else {\n      this.includeFirstItemInTabNavigation();\n    }\n\n  }\n\n\n  componentDidRender() {\n    this.items = this.getListItems();\n  }\n\n  componentDidLoad() {\n    this.includeFirstItemInTabNavigation();\n  }\n\n  render() {\n    return (\n      <Host role=\"menu\" class=\"alc-menu\">\n        <slot />\n      </Host>\n    );\n  }\n}\n"],"names":["getFocusableElements","getUniqueId","logger","h","Host"],"mappings":"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"}