{"version":3,"file":"alc-details.entry.cjs.js","sources":["src/components/alc-details/alc-details-base.css?tag=alc-details&mode=base","src/components/alc-details/alc-details.css?tag=alc-details&mode=theme","src/components/alc-details/alc-details.tsx"],"sourcesContent":[".alc-details__summary.is-disabled {\n  @apply cursor-not-allowed;\n}","alc-details {\n  /**\n   * @prop --bg-color: Cor de fundo do details.\n   */\n  --bg-color: var(--alc-color-surface);\n\n  /* Define cor de fallback caso o color-mix não tenha suporte no navegador */\n  --shadow-color: var(--alc-color-border);\n\n  /* Define cor com transparência */\n  @supports (color: color-mix(in srgb, black, white)) {\n    --shadow-color: color-mix(in srgb, var(--alc-color-border) 50%, transparent);\n  }\n}\n\n[data-alc-theme=\"light\"] alc-details {\n  --border-color: var(--alc-color-border);\n\n  --text-color-hover: var(--alc-color-action-60);\n\n  --bg-color-disabled: var(--alc-color-neutral-10);\n  --border-color-disabled: var(--alc-color-neutral-20);\n  --text-color-disabled: var(--alc-color-text-4);\n}\n\n[data-alc-theme=\"dark\"] alc-details {\n  --border-color: var(--alc-color-border);\n\n  --text-color-hover: var(--alc-color-action-40);\n\n  --bg-color-disabled: var(--alc-color-neutral-80);\n  --border-color-disabled: var(--alc-color-neutral-70);\n  --text-color-disabled: var(--alc-color-text-3);\n}\n\n:host {\n  display: block;\n}\n\n/* Default icon hidden */\n.alc-details__summary {\n  list-style: none;\n}\n\n.alc-details__summary::-webkit-details-marker {\n  display: none;\n}\n/* ================== */\n\n\n/* Animações removidas até ajustar o tabs para funcionar o details dentro */\n.alc-details {\n  /* --max-height: calc(var(--min-height) + var(--content-height) + 1); */\n  @apply bg-[color:var(--bg-color)] rounded-[var(--alc-radius-default)] mb-2 shadow shadow-[var(--shadow-color)];\n  /* @apply h-[var(--min-height)] transition-all duration-100 ease-in-out; */\n}\n\n/* .alc-details.is-open {\n  @apply h-[var(--max-height)];\n} */\n\n.alc-details.is-disabled {\n  @apply rounded-[var(--alc-radius-default)];\n  @apply bg-[color:var(--bg-color-disabled)] text-[color:var(--text-color-disabled)] border-[color:var(--border-color-disabled)];\n}\n\n.alc-details__summary {\n  --summary-padding: calc(theme('padding.2') - theme('borderWidth.2'));\n  @apply flex items-center gap-2 p-[var(--summary-padding)] text-base transition-colors cursor-pointer;\n  @apply hover:text-[color:var(--text-color-hover)] rounded-[var(--alc-radius-default)] border border-[color:var(--border-color)];\n}\n\n.alc-details__summary.is-open {\n  @apply rounded-b-none;\n}\n\n.alc-details__summary:focus-visible {\n  @apply border-[color:var(--border-color)];\n}\n\n.alc-details__icon  {\n  @apply origin-center rotate-0 transition-transform duration-200 ease-in-out;\n}\n\n.alc-details__icon.is-open {\n  @apply rotate-90;\n}\n\n.alc-details__summary.is-disabled {\n  /* prevents click events and prevents text selection*/\n  @apply pointer-events-none select-none cursor-not-allowed outline-none;\n}\n\n.alc-details__summary.is-disabled:focus-visible {\n  @apply border-transparent;\n}\n\n.alc-details__content {\n  @apply p-2 border-r rounded-[var(--alc-radius-default)] rounded-t-none border-l border-b border-[color:var(--border-color)];\n  /* @apply opacity-0 transition-opacity; */\n}\n\n/* .alc-details.is-open .alc-details__content {\n  @apply opacity-100;\n} */\n","// @ts-nocheck\nimport { h, Component, Element, Event, EventEmitter, Host, Prop, State, Watch, Listen } from '@stencil/core';\nimport { getUniqueId } from '../utils/getUniqueId';\nimport logger from '../utils/logger';\nimport { getMode } from '../utils/theme';\n\n@Component({\n  tag: 'alc-details',\n  styleUrls: {\n    base: 'alc-details-base.css',\n    theme: 'alc-details.css',\n  },\n  shadow: false,\n})\nexport class AlcDetails {\n  @Element()\n  element: HTMLElement;\n  detailsElement: HTMLElement;\n  summaryElement: HTMLElement;\n  contentElement: HTMLElement;\n  private idDetails = null;\n  private ro: ResizeObserver;\n\n  /**\n   * Insere o summary do details.\n   */\n  @Prop({ reflect: true }) summary!: string;\n\n  /**\n   * Desativa o componente.\n   */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Mantém aberto.\n   */\n  @Prop({\n    mutable: true,\n  })\n  opened: boolean = false;\n\n  @State() maxHeight: number = null;\n\n  /**\n   * Evento disparado quando a details abrir\n   */\n  @Event({\n    eventName: 'alc-show',\n    cancelable: true,\n    bubbles: true,\n  })\n  alcShow: EventEmitter<null>;\n\n  /**\n   * Evento disparado quando a details fechar\n   */\n  @Event({\n    eventName: 'alc-close',\n    cancelable: false,\n    bubbles: true,\n  })\n  alcClose: EventEmitter<null>;\n\n  private showDetails = (e: Event) => {\n    if (this.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    this.opened = this.detailsElement.open;\n    if (this.opened) {\n      this.alcShow.emit();\n    } else {\n      this.alcClose.emit();\n    }\n  };\n\n  private renderIcon() {\n    // Não mostra ícone se não for tematizado\n    if (getMode() === 'base') {\n      return null;\n    }\n\n    return (\n      <alc-icon\n        name=\"chevron-right\"\n        label=\"Expandir\"\n        class={{\n          'alc-details__icon': true,\n          'is-open': this.opened,\n        }}\n      ></alc-icon>\n    );\n  }\n\n  componentWillLoad() {\n    // Antes do componente carregar, cria um id para o details.\n    this.idDetails = getUniqueId();\n  }\n\n  componentDidLoad() {\n    // Aguarda carga do componente para inserir o listener do evento\n    this.detailsElement.addEventListener('toggle', this.showDetails);\n\n  }\n\n\n  // Configuração de altura para animação removida até ajustar para que funcione details dentro do tabs\n  // componentDidRender() {\n  //   this.summaryElement = this.detailsElement.querySelector('.alc-details__summary');\n  //   this.contentElement = this.detailsElement.querySelector('.alc-details__content');\n\n  //   // Por meio do ResizeObserver, redefine o valor de altura máxima, deixando a altura do conteúdo\n  //   // dentro do details dinâmico\n  //   const target = this.contentElement;\n  //   const modifierElement = this.detailsElement;\n  //   const minHeight = this.summaryElement.offsetHeight;\n\n  //   function observerCallback() {\n  //     const targetHeight = target.scrollHeight;\n  //     const height = targetHeight + minHeight + 1;\n  //     modifierElement.style.setProperty('--min-height', minHeight + 'px');\n  //     modifierElement.style.setProperty('--max-height', height + 'px');\n  //   }\n\n  //   this.ro = new ResizeObserver(observerCallback);\n  //   this.ro.observe(target);\n\n  //   // Inicia com um cálculo de altura necessário para animação.\n  //   // Não interfere na dinâmica do conteúdo.\n  //   if (modifierElement) {\n  //     const minHeight = this.summaryElement.offsetHeight;\n  //     const maxHeight = this.contentElement.offsetHeight;\n\n  //     modifierElement.style.setProperty('--min-height', minHeight + 'px');\n  //     modifierElement.style.setProperty('--content-height', maxHeight + 'px');\n  //   }\n\n  // }\n\n  render() {\n    this.summary ?? logger.report('summary', this.element.tagName.toLowerCase(), this.element)\n    return (\n      <Host>\n        <details\n          id={this.idDetails}\n          open={this.opened}\n          class={{\n            'alc-details': true,\n            'is-disabled': this.disabled,\n            'is-open': this.opened,\n          }}\n          ref={el => (this.detailsElement = el)}\n        >\n          <summary\n            class={{\n              'alc-details__summary': true,\n              'is-disabled': this.disabled,\n              'is-open': this.opened\n            }}\n          >\n            {this.renderIcon()}\n            {this.summary}\n          </summary>\n          <div class=\"alc-details__content\">\n            <slot></slot>\n          </div>\n        </details>\n      </Host>\n    );\n  }\n}\n"],"names":["getMode","h","getUniqueId","logger","Host"],"mappings":";;;;;;;AAAA,MAAM,iBAAiB,GAAG,uDAAuD;;ACAjF,MAAM,kBAAkB,GAAG,28IAA28I;;MCcz9I,UAAU,GAAA,MAAA;AARvB,IAAA,WAAA,CAAA,OAAA,EAAA;;;;AAcU,QAAA,IAAS,CAAA,SAAA,GAAG,IAAI;AAaxB;;AAEG;AAIH,QAAA,IAAM,CAAA,MAAA,GAAY,KAAK;AAEd,QAAA,IAAS,CAAA,SAAA,GAAW,IAAI;AAsBzB,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,CAAQ,KAAI;AACjC,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,CAAC,CAAC,cAAc,EAAE;gBAClB;;YAGF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI;AACtC,YAAA,IAAI,IAAI,CAAC,MAAM,EAAE;AACf,gBAAA,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;;iBACd;AACL,gBAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;;AAExB,SAAC;AAgGF;IA9FS,UAAU,GAAA;;AAEhB,QAAA,IAAIA,aAAO,EAAE,KAAK,MAAM,EAAE;AACxB,YAAA,OAAO,IAAI;;AAGb,QAAA,QACEC,OACE,CAAA,UAAA,EAAA,EAAA,IAAI,EAAC,eAAe,EACpB,KAAK,EAAC,UAAU,EAChB,KAAK,EAAE;AACL,gBAAA,mBAAmB,EAAE,IAAI;gBACzB,SAAS,EAAE,IAAI,CAAC,MAAM;aACvB,EAAA,CACS;;IAIhB,iBAAiB,GAAA;;AAEf,QAAA,IAAI,CAAC,SAAS,GAAGC,uBAAW,EAAE;;IAGhC,gBAAgB,GAAA;;QAEd,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAsClE,MAAM,GAAA;;AACJ,QAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,MAAA,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,EAAA,GAAIC,aAAM,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC;AAC1F,QAAA,QACEF,QAACG,UAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACHH,OAAA,CAAA,SAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,EAAE,EAAE,IAAI,CAAC,SAAS,EAClB,IAAI,EAAE,IAAI,CAAC,MAAM,EACjB,KAAK,EAAE;AACL,gBAAA,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI,CAAC,QAAQ;gBAC5B,SAAS,EAAE,IAAI,CAAC,MAAM;aACvB,EACD,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,EAAA,EAErCA,OAAA,CAAA,SAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE;AACL,gBAAA,sBAAsB,EAAE,IAAI;gBAC5B,aAAa,EAAE,IAAI,CAAC,QAAQ;gBAC5B,SAAS,EAAE,IAAI,CAAC;AACjB,aAAA,EAAA,EAEA,IAAI,CAAC,UAAU,EAAE,EACjB,IAAI,CAAC,OAAO,CACL,EACVA,OAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,sBAAsB,EAAA,EAC/BA,OAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAa,CACT,CACE,CACL;;;;;;;;;;;"}