{"file":"alc-skip-to-nav.entry.cjs.js","mappings":"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","names":["screens","logger","focusFirstElement","getFocusableElements","h","Host"],"sources":["src/components/alc-skip-to-nav/alc-skip-to-nav.css?tag=alc-skip-to-nav","src/components/alc-skip-to-nav/alc-skip-to-nav.tsx"],"sourcesContent":["alc-skip-to-nav {\n  @apply sr-only focus-within:not-sr-only z-10;\n}\n\nalc-skip-to-nav:focus-within {\n  @apply absolute p-4 w-full text-center top-0 bg-skin-surface-secondary;\n}","import { Component, Host, h } from '@stencil/core';\nimport { focusFirstElement, getFocusableElements } from '../utils/keydown';\nimport screens from '../../../tailwind-screens';\nimport logger from '../utils/logger';\n\nconst MD_BREAKPOINT = Number(screens.md.split('px')[0]);\n\n@Component({\n  tag: 'alc-skip-to-nav',\n  styleUrl: 'alc-skip-to-nav.css',\n  scoped: false\n})\nexport class AlcSkipToNav {\n  handleClick = (event: MouseEvent) => {\n    event.preventDefault();\n\n    // Abaixo do breakpoint md, é renderizado o drawer.\n    if (window.innerWidth < MD_BREAKPOINT) {\n      // Procura pelo botão que abre o drawer: ou o gerado pelo alc-header(-v2), ou o gerado pelo sidepanel.\n      const drawerButton = document.querySelector('[data-alc-header-drawer-button], [data-alc-sidepanel-drawer-button]');\n\n      if (!drawerButton) {\n        logger.warn('O componente <alc-skip-to-nav> necessita de <alc-header> ou <alc-sidepanel> para funcionar corretamente no modo mobile.');\n        return;\n      }\n\n      if (drawerButton instanceof HTMLButtonElement) {\n        drawerButton.focus();\n      }\n\n      return;\n    }\n\n    // Lógica para não mobile\n\n    let skipped = false;\n\n    // Cenário 1 - alc-nav-panel\n    const navpanel = document.querySelector('alc-nav-panel');\n    if (navpanel) {\n      if (navpanel.open) {\n        const nav = navpanel.querySelector('alc-nav');\n        if (nav) {\n          focusFirstElement(getFocusableElements(nav));\n          skipped = true;\n        }\n        else {\n          logger.warn('Ao usar o <alc-nav-panel>, é necessário <alc-nav> dentro dele para <alc-skip-top-nav> funcionar corretamente.');\n          return; // Aqui, não há mais nada a fazer.\n        }\n      }\n      else { // navpanel fechado\n        const navButton = document.querySelector('[data-alc-navpanel-button]');\n        if (navButton instanceof HTMLButtonElement) {\n          navButton.focus();\n          skipped = true;\n        }\n      }\n    }\n\n    if (skipped) {\n      return;\n    }\n\n    // Cenário 2 - alc-sidepanel (legado)\n    const sidepanel = document.querySelector('alc-sidepanel');\n    if (sidepanel) {\n      if (sidepanel.visible) {\n        const nav = sidepanel.querySelector('alc-nav');\n        if (nav) {\n          focusFirstElement(getFocusableElements(nav));\n          skipped = true;\n        }\n        else {\n          logger.warn('Ao usar o <alc-sidepanel>, é necessário <alc-nav> dentro dele para <alc-skip-top-nav> funcionar corretamente.');\n          return; // Aqui, não há mais nada a fazer.\n        }\n      }\n      else { // sidepanel fechado\n        const navButton = document.querySelector('[data-alc-sidepanel-button]');\n        if (navButton instanceof HTMLButtonElement) {\n          navButton.focus();\n          skipped = true;\n        }\n      }\n    }\n\n    if (skipped) {\n      return;\n    }\n\n    // Cenário 3 - alc-nav sem nenhum dos painéis (genérico)\n    const nav = document.querySelector('alc-nav');\n    if (nav) {\n      focusFirstElement(getFocusableElements(nav));\n      skipped = true;\n    }\n\n    if (!skipped) {\n      logger.warn('O componente <alc-skip-to-nav> não localizou os elementos necessários para funcionar corretamente. Verifique a documentação do componente.');\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <a\n          class='alc-link text-center'\n          href='#'\n          onClick={this.handleClick}\n        >\n          Ir para navegação\n        </a>\n      </Host>\n    );\n  }\n}\n"],"version":3}