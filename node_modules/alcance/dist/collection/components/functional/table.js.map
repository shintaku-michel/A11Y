{"version":3,"file":"table.js","sourceRoot":"","sources":["../../../../src/components/functional/table.tsx"],"names":[],"mappings":"AAEA,SAAS,aAAa,CAAC,KAAuB;IAC5C,IAAI,UAAU,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;IACpD,IAAI,WAAW,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;IACrD,IAAI,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;IAC9C,IAAI,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;IACzD,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACjC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACvB,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IACH,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACzB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACjB,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACvB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,aAAa,CAAC,KAAuB;IAC5C,IAAI,OAAO,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;IACjD,IAAI,YAAY,GAA0B,EAAE,CAAC;IAE7C,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;QACzB,IAAI,KAAK,GAAgB,MAAM,CAAC,UAAU,CAAC;QAC3C,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE1C,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC/B,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAEhD,6CAA6C;QAC7C,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YACpC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QACH,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;IAEH,OAAO,YAAY,CAAC;AACtB,CAAC;AAED,SAAS,OAAO,CAAE,MAAM,EAAE,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;IAC/D,CAAE,GAAG,MAAM,CAAC,UAAU,CAAE,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;IACtE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC5B,OAAO,OAAO,CAAC;AACjB,CAAC;AAED,SAAS,gBAAgB,CAAC,KAAuB;IAC/C,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;IACnC,IAAI,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;IAE9C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACjB,IAAI,KAAK,GAAG,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACvC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YAE5B,6DAA6D;YAC7D,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,KAAK,MAAM,EAAE,CAAC;gBAC5C,OAAO;YACT,CAAC;YACD,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrD,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;YACxD,OAAO,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;YAE9B,IAAI,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClD,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAEjD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,MAAM,CAAC;QACxC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AAMD,MAAM,KAAK,GAAoC,CAAC,EAAC,MAAM,EAAC,EAAE,EAAE;IAC1D,aAAa,CAAC,MAAM,CAAC,CAAC;IACtB,gBAAgB,CAAC,MAAM,CAAC,CAAC;IAEzB,OAAO,IAAI,CAAC;AACd,CAAC,CAAA;AAED,eAAe,KAAK,CAAC;AACrB,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,CAAC","sourcesContent":["import { FunctionalComponent } from '@stencil/core';\n\nfunction setCssClasses(table: HTMLTableElement) {\n  let headerRows = table.querySelectorAll('thead tr');\n  let headerCells = table.querySelectorAll('thead th');\n  let rows = table.querySelectorAll('tbody tr');\n  let bodyCells = table.querySelectorAll('table tbody td');\n  table.classList.add('alc-table');\n  headerRows.forEach(row => {\n    row.classList.add('alc-table__header-row');\n  });\n  headerCells.forEach(cell => {\n    cell.classList.add('alc-table__header-cell');\n  });\n  rows.forEach(row => {\n    row.classList.add('alc-table__row');\n  });\n  bodyCells.forEach(cell => {\n    cell.classList.add('alc-table__cell');\n  });\n}\n\nfunction inlineHeaders(table: HTMLTableElement): Array<HTMLDivElement> {\n  let headers = table.querySelectorAll('thead th');\n  let headerClones: Array<HTMLDivElement> = [];\n\n  headers.forEach((header) => {\n    let attrs:NamedNodeMap = header.attributes;\n    let clone = document.createElement('div');\n\n    Array.from(attrs).forEach(attr => {\n      clone.setAttribute(attr.name, attr.value);\n    });\n    clone.classList.add('alc-table__inline-header');\n\n    // clone.setAttribute('aria-hidden', 'true');\n    header.childNodes.forEach(childNode => {\n      clone.appendChild(childNode.cloneNode(true));\n    });\n    headerClones.push(clone);\n  });\n\n  return headerClones;\n}\n\nfunction wrapAll (target, wrapper = document.createElement('div')) {\n  [ ...target.childNodes ].forEach(child => wrapper.appendChild(child));\n  target.appendChild(wrapper);\n  return wrapper;\n}\n\nfunction setInlineHeaders(table: HTMLTableElement) {\n  let headers = inlineHeaders(table);\n  let rows = table.querySelectorAll('tbody tr');\n\n  rows.forEach(row => {\n    let cells = row.querySelectorAll('td');\n    cells.forEach((cell, index) => {\n\n      // Evita que seja feito o mesmo processo duas vezes na c√©lula\n      if (cell.dataset.alcInlineHeader === 'true') {\n        return;\n      }\n      const contentWrapper = document.createElement('div');\n      contentWrapper.classList.add('alc-table__cell-content');\n      wrapAll(cell, contentWrapper);\n\n      let inlineHeader = headers[index].cloneNode(true);\n      cell.insertBefore(inlineHeader, cell.firstChild);\n\n      cell.dataset.alcInlineHeader = 'true';\n    });\n  });\n}\n\ninterface TableProps {\n  target: HTMLTableElement\n}\n\nconst Table: FunctionalComponent<TableProps> = ({target}) => {\n  setCssClasses(target);\n  setInlineHeaders(target);\n\n  return null;\n}\n\nexport default Table;\nexport { setInlineHeaders, setCssClasses };"]}