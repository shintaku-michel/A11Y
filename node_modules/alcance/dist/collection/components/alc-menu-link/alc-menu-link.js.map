{"version":3,"file":"alc-menu-link.js","sourceRoot":"","sources":["../../../../src/components/alc-menu-link/alc-menu-link.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, Host, Event, EventEmitter, Element, Watch } from '@stencil/core';\nimport classNames from 'classnames';\n\nexport interface AlcMenuLinkSelectEventDetail {\n  originalEvent: MouseEvent | KeyboardEvent;\n}\n\n/**\n * @slot - A tag para navegação. Pode ser tanto a tag `<a>` quanto um `<routerlink>` no caso de uso com Vue.\n **/\n\n@Component({\n  tag: 'alc-menu-link',\n  styleUrl: 'alc-menu-link.css',\n  shadow: false,\n})\nexport class AlcMenuLink {\n  @Element() hostElement: HTMLElement;\n\n  /** Indica se o menu-link está desabilitado. */\n  @Prop({ reflect: true, mutable: true })\n  disabled?: boolean = false;\n\n  /** Valor do menu-link, que pode ser utilizado para identificar que link foi selecionado. */\n  @Prop({ reflect: true })\n  value?: any;\n\n  /** Evento disparado quando o menu-link é selecionado. */\n  @Event({ eventName: 'alc-select' })\n  alcSelect: EventEmitter<{\n    originalEvent: MouseEvent | KeyboardEvent;\n  }>;\n\n  private originalHref: string | null = null;\n  private spaceKeyEvent: KeyboardEvent = null;\n\n  @Watch('disabled')\n  handleDisabledChange(newValue: boolean) {\n    this.updateLinkState(newValue);\n  }\n\n  triggerEvent(detail: AlcMenuLinkSelectEventDetail) {\n    if (this.disabled) {\n      return;\n    }\n    this.alcSelect.emit(detail);\n  }\n\n  updateLinkState(disabled: boolean) {\n    const anchor = this.hostElement.querySelector('a');\n    if (anchor) {\n      if (disabled) {\n        this.originalHref = anchor.getAttribute('href');\n        anchor.setAttribute('aria-disabled', 'true');\n        anchor.classList.add('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '-1');\n        anchor.removeAttribute('href');\n        anchor.setAttribute('role', 'menuitem');\n      } else {\n        if (this.originalHref) {\n          anchor.setAttribute('href', this.originalHref);\n        }\n        anchor.removeAttribute('aria-disabled');\n        anchor.classList.remove('alc-menu-link--disabled');\n        anchor.setAttribute('tabindex', '0');\n        anchor.setAttribute('role', 'menuitem');\n      }\n    }\n  }\n\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.disabled && event.key === ' ') {\n      event.preventDefault();\n      const anchor = this.hostElement.querySelector('a');\n      if (anchor) {\n        this.spaceKeyEvent = event;\n        anchor.click();\n      }\n    }\n  }\n\n  handleClick(event: MouseEvent) {\n    const originalEvent = this.spaceKeyEvent ?? event;\n    this.spaceKeyEvent = null; // Despreza esse evento para os próximos disparos.\n    if (this.disabled) {\n      event.preventDefault();\n    } else {\n      this.triggerEvent({ originalEvent: originalEvent });\n    }\n  }\n\n  componentWillLoad() {\n    this.updateLinkState(this.disabled);\n  }\n\n  getCssClassMap() {\n    return classNames(\n      'alc-menu-link',\n      this.disabled && 'alc-menu-link--disabled',\n    );\n  }\n\n  render() {\n    return (\n      <Host\n      class={this.getCssClassMap()}\n      aria-disabled={this.disabled ? 'true' : null}\n      onClick={this.handleClick.bind(this)}\n      onKeyDown={this.handleKeyDown.bind(this)}\n      >\n          <slot />\n      </Host>\n    );\n  }\n}"]}