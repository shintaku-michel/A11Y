{"file":"alc-scroll-panel2.js","mappings":"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","names":["__stencil_proxyCustomElement"],"sources":["src/components/alc-scroll-panel/alc-scroll-panel-base.css?tag=alc-scroll-panel&mode=base","src/components/alc-scroll-panel/alc-scroll-panel.css?tag=alc-scroll-panel&mode=theme","src/components/alc-scroll-panel/alc-scroll-panel.tsx"],"sourcesContent":["alc-scroll-panel {\n  @apply block;\n}\n\n.alc-scroll-panel {\n  @apply flex flex-row items-stretch;\n}\n\n.alc-scroll-panel__content {\n  @apply overflow-x-hidden whitespace-nowrap;\n}","@import 'alc-scroll-panel-base.css';\n\n/* Definição das variáveis - Setup dos temas*/\n\n/* DARK */\n[data-alc-theme=\"dark\"] alc-scroll-panel {\n  --border-color: var(--alc-color-border);\n  --shadow-color:  theme('colors.gray.30');\n  --outline-color: var(--alc-color-action-30);\n}\n\n[data-alc-theme=\"dark\"] .alc-scroll-panel__button {\n  --text-color: var(--alc-color-link-text);\n  --bg-color: theme('colors.transparent');\n}\n\n[data-alc-theme=\"dark\"] .alc-scroll-panel__button:hover {\n  --text-color: var(--alc-color-text-0);\n  --bg-color: var(--alc-color-action-50);\n}\n\n[data-alc-theme=\"dark\"] .alc-scroll-panel__button:active {\n  --text-color: var(--alc-color-text-0);\n  --bg-color: var(--alc-color-action-70);\n}\n\n[data-alc-theme=\"dark\"] .alc-scroll-panel__button:disabled {\n  --text-color: var(--alc-color-neutral-60);\n  --bg-color: theme('colors.transparent');\n}\n\n\n/* LIGHT */\n[data-alc-theme=\"light\"] alc-scroll-panel {\n  --border-color: var(--alc-color-border);\n  --shadow-color:  theme('colors.gray.30');\n  --outline-color: var(--alc-color-action-60);\n}\n\n[data-alc-theme=\"light\"] .alc-scroll-panel__button {\n  --text-color: var(--alc-color-link-text);\n  --bg-color: theme('colors.transparent');\n}\n\n[data-alc-theme=\"light\"] .alc-scroll-panel__button:hover {\n  --text-color: var(--alc-color-text-contrast);\n  --bg-color: var(--alc-color-action-50);\n}\n\n[data-alc-theme=\"light\"] .alc-scroll-panel__button:active {\n  --text-color: var(--alc-color-text-contrast);\n  --bg-color: var(--alc-color-action-70);\n}\n\n[data-alc-theme=\"light\"] .alc-scroll-panel__button:disabled {\n  --text-color: var(--alc-color-neutral-30);\n  --bg-color: theme('colors.transparent');\n}\n\n\n.alc-scroll-panel__button {\n  --border-width: var(--alc-border-width);\n  \n  /* Borda top para deixar o elemento centralizado */\n  border-width: var(--border-width) 0;\n  @apply border-b-[--border-color] border-t-transparent;\n  @apply w-10 h-full text-[--text-color] bg-[--bg-color] transition-colors;\n}\n\n.alc-scroll-panel__wrapper-content {\n  @apply overflow-hidden relative;\n}\n\n.alc-scroll-panel__content {\n  @apply overflow-auto;\n}\n\n.alc-scroll-panel__content::-webkit-scrollbar {\n  display: none;\n}\n\n\n.alc-scroll-panel__has-scroll-left::before,\n.alc-scroll-panel__has-scroll-right::after {\n  @apply block content-[\"\\200C\"];\n  @apply w-3 h-full absolute top-0 z-10 pointer-events-none;\n}\n\n.alc-scroll-panel__has-scroll-left::before {  \n  @apply left-0;\n  box-shadow: inset 8px 0px 8px -8px var(--shadow-color);\n}\n\n.alc-scroll-panel__has-scroll-right::after {\n  @apply right-0;\n  box-shadow: inset -8px 0px 8px -8px var(--shadow-color);\n}\n\n.alc-scroll-panel__button:focus-visible, .alc-scroll-panel__button.active:focus-visible {\n  @apply outline outline-2 outline-[--outline-color] -outline-offset-2;\n}","import { Component, Host, h, Listen, State, Element, forceUpdate, Prop, Watch } from '@stencil/core';\nimport logger from '../utils/logger';\nimport { throttle } from '../utils/throttle';\n\nconst SCROLL_STEP = 20;\n\n@Component({\n  tag: 'alc-scroll-panel',\n  styleUrls: {\n    base: 'alc-scroll-panel-base.css',\n    theme: 'alc-scroll-panel.css'\n  },\n  scoped: false,\n})\nexport class AlcScrollPanel {\n\n  @Element() el: HTMLAlcScrollPanelElement;\n\n  @State() hasScroll: boolean = false;\n  @State() canScrollRight: boolean = false;\n  @State() canScrollLeft: boolean = false;\n  /**\n  * Define se há foco.\n  */\n  @Prop({ reflect: true }) hasFocus: boolean = true;\n  /**\n  * Define para qual elemento o scroll vai.\n  */\n  @Prop({ reflect: true }) scrollToElement: HTMLElement;\n\n  private content: HTMLDivElement;\n  private scrollWidth: number = 0;\n  private scrolling: number = 0;\n  private mo: MutationObserver;\n  private resizeThrottle = throttle(this.resize, 200);\n  private scrollThrottle = throttle(this.handleScroll, 300);\n\n  @Listen('themeLoaded', {\n    target: 'window'\n  })\n  themeLoadedHandler() {\n    this.handleScroll();\n  }\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    this.resizeThrottle();\n  }\n\n  @Watch('scrollToElement')\n  handleScrollToElement(element: HTMLElement) {\n    if(!!element){\n      element.scrollIntoView({ inline: \"center\", block: 'nearest' });\n    }\n  }\n\n  private resize() {\n    this.handleScroll();\n    this.handleScrollToElement(this.scrollToElement);\n  }\n\n  private handleScroll() {\n    this.scrollWidth = this.content.scrollWidth;\n    this.hasScroll = this.scrollWidth > this.content.offsetWidth;\n    this.setCanScroll();\n  }\n\n  private scrollRight() { // Pra frente >>>\n    this.content.scrollLeft += SCROLL_STEP;\n    this.setCanScroll();\n  }\n\n  private scrollLeft() { // Pra trás <<<\n    this.content.scrollLeft = this.content.scrollLeft - SCROLL_STEP;\n    this.setCanScroll();\n  }\n\n  private startScrolling(button: HTMLButtonElement, scroll: Function) {\n    if (this.scrolling) return;\n\n    this.scrolling = window.setInterval(() => {\n      if (button.disabled) {\n        this.stopScrolling();\n        return;\n      }\n\n      scroll.apply(this);\n    }, 200);\n  }\n\n  private startScrollingRight(e: MouseEvent) {\n    const button = e.currentTarget;\n\n    if(button instanceof HTMLButtonElement) {\n      this.startScrolling(button, this.scrollRight);\n    }\n  }\n\n  private startScrollingLeft(e: MouseEvent) {\n    const button = e.currentTarget;\n\n    if(button instanceof HTMLButtonElement) {\n      this.startScrolling(button, this.scrollLeft);\n    }\n  }\n\n  private stopScrolling() {\n    window.clearInterval(this.scrolling);\n    this.scrolling = 0;\n  }\n\n  private setCanScroll() {\n    // Math.ceil foi necessário ao verificar funcionamento em um dispositivo móvel real,\n    // onde scrollLeft apresenta números fracionários.\n    this.canScrollRight = Math.ceil(this.content.offsetWidth + this.content.scrollLeft) < this.scrollWidth;\n    this.canScrollLeft = this.content.scrollLeft > 0;\n  }\n\n  componentDidRender() {\n    /*\n     O trecho abaixo permite que o componente seja atualizado\n     sempre que houver mudanças no conteúdo (como a inclusão de \"fihos\").\n     Isso foi feito para permitir, por exemplo, que o conteúdo do panel\n     seja atualizado dinamicamente com a manipulação do DOM.\n     */\n    this.mo?.disconnect();\n    this.mo = new MutationObserver(() => {\n      logger.debug('forceUpdate scroll-panel');\n      forceUpdate(this.el);\n    });\n    this.mo.observe(this.el, {\n      childList: true,\n      subtree: true\n    });\n\n    this.handleScroll();\n  }\n\n  disconnectedCallback() {\n    this.mo?.disconnect();\n    this.resizeThrottle.cancel();\n    this.scrollThrottle.cancel();\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"alc-scroll-panel\">\n          {\n            this.hasScroll\n            ? <div\n                key=\"left-button\"\n              >\n                <button\n                  onClick={this.scrollLeft.bind(this)}\n                  onMouseDown={this.startScrollingLeft.bind(this)}\n                  onMouseUp={this.stopScrolling.bind(this)}\n                  onTouchStart={this.startScrollingLeft.bind(this)}\n                  onTouchEnd={this.stopScrolling.bind(this)}\n                  onTouchCancel={this.stopScrolling.bind(this)}\n                  class=\"alc-scroll-panel__button\"\n                  disabled={!this.canScrollLeft}\n                  aria-label=\"Ir para esquerda\"\n                  tabindex={this.hasFocus ? '0' : '-1'}\n                >\n                  <alc-icon name=\"chevron-left\" label=''></alc-icon>\n                </button>\n              </div>\n            : null\n          }\n          <div\n            class={{\n              \"alc-scroll-panel__wrapper-content\": true,\n              \"alc-scroll-panel__has-scroll-left\": this.canScrollLeft,\n              \"alc-scroll-panel__has-scroll-right\": this.canScrollRight\n            }}\n            key=\"content\"\n          >\n            <div\n              class=\"alc-scroll-panel__content\"\n              ref={el => this.content = el}\n              onScroll={() => this.scrollThrottle()}\n            >\n              <slot />\n            </div>\n          </div>\n          {\n            this.hasScroll\n            ? <div\n                key=\"right-button\"\n              >\n                <button\n                  onClick={this.scrollRight.bind(this)}\n                  onMouseDown={this.startScrollingRight.bind(this)}\n                  onMouseUp={this.stopScrolling.bind(this)}\n                  onTouchStart={this.startScrollingRight.bind(this)}\n                  onTouchEnd={this.stopScrolling.bind(this)}\n                  onTouchCancel={this.stopScrolling.bind(this)}\n                  class=\"alc-scroll-panel__button\"\n                  disabled={!this.canScrollRight}\n                  aria-label=\"Ir para direita\"\n                  tabindex={this.hasFocus ? '0' : '-1'}\n                >\n                  <alc-icon name=\"chevron-right\" label=''></alc-icon>\n                </button>\n              </div>\n            : null\n          }\n        </div>\n      </Host>\n    );\n  }\n}"],"version":3}