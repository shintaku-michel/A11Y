{"file":"alc-theme.js","mappings":"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","names":["AlcTheme","__stencil_proxyCustomElement"],"sources":["src/components/alc-theme/alc-theme-base.css?tag=alc-theme&mode=base","src/components/alc-theme/alc-theme.css?tag=alc-theme&mode=theme","src/components/alc-theme/alc-theme.tsx"],"sourcesContent":["/* CSS básico para que o componente funcione - sem dependências externas */","/* Definição das variáveis - Setup dos temas*/\n\n\n/* CSS COMUM a todos os temas */\nalc-theme {\n  display: block;\n}\n\n.alc-theme__label {\n  @apply sr-only;\n}\n\n/*\n  Não tem problema em usar .alc-field__core aqui porque:\n  1. alc-theme está usando o componente alc-field, ou seja, um componente já \"conhece\" o outro, porque depende dele.\n  2. A classe alc-field__core faz parte da API pública de alc-field.\n */\n.alc-field__core .alc-theme__select {\n  /*\n    Isso foi feito para manter o visual adotado desde o início com o seletor de tema,\n    que não ocupa 100% da largura disponível, como acontece por padrão para os\n    campos de entrada usando o componente alc-field.\n  */\n  @apply w-auto;\n}\n","import { Component, Host, h, State } from '@stencil/core';\nimport logger from '../utils/logger';\nimport { getAppliedTheme, setAppliedTheme, loadUserPreference, saveUserPreference, removeUserPreference } from '../utils/theme';\nimport { getUniqueId } from '../utils/getUniqueId';\nimport testAttributes from '../utils/testAttributes';\n\nconst NO_THEME = 0;\nconst LIGHT_THEME = 1;\nconst DARK_THEME = 2;\n\n@Component({\n  tag: 'alc-theme',\n  styleUrls: {\n    base: 'alc-theme-base.css',\n    theme: 'alc-theme.css'\n  },\n  scoped: false\n})\nexport class AlcTheme {\n\n  themeLink: HTMLLinkElement;\n  selectId: string;\n\n  @State() selectedTheme: number;\n\n  private change(theme: number) {\n\n    logger.log('changed to', theme);\n    switch (theme) {\n      case LIGHT_THEME:\n        setAppliedTheme('light');\n        saveUserPreference('light');\n        break;\n        case DARK_THEME:\n        setAppliedTheme('dark');\n        saveUserPreference('dark');\n        break;\n      default:\n        setAppliedTheme(getAppliedTheme('system'));\n        removeUserPreference();\n        break;\n    }\n    this.selectedTheme = theme;\n  }\n\n  private getSelectedValue(select: HTMLSelectElement): number {\n    return parseInt(select.selectedOptions[0].value);\n  }\n\n  componentWillLoad() {\n\n    const userPreference = loadUserPreference();\n    if (userPreference === 'light') {\n      this.selectedTheme = LIGHT_THEME;\n    }\n    else if (userPreference === 'dark') {\n      this.selectedTheme = DARK_THEME;\n    }\n    else {\n      this.selectedTheme = NO_THEME;\n    }\n    this.selectId = getUniqueId();\n  }\n\n  render() {\n\n    return (\n      <Host>\n        <alc-field>\n          {/* Label colocado como slot para poder ter seu visual personalizado (sr-only) */}\n          <label\n            htmlFor={this.selectId}\n            slot=\"label\"\n            class=\"alc-theme__label\"\n            {...testAttributes('data-test-label')}\n          >\n            Tema\n          </label>\n          <div>\n            <select\n              onChange={(e) => this.change(this.getSelectedValue(e.target as HTMLSelectElement))}\n              class=\"alc-theme__select\"\n              id={this.selectId}\n              {...testAttributes('data-test-select')}\n            >\n              <option value={NO_THEME} selected={this.selectedTheme === NO_THEME}>\n                Do Sistema\n                {this.selectedTheme === NO_THEME ? ' ✔' : ''}\n              </option>\n              <option value={LIGHT_THEME} selected={this.selectedTheme === LIGHT_THEME}>\n                Claro\n                {this.selectedTheme === LIGHT_THEME ? ' ✔' : ''}\n              </option>\n              <option value={DARK_THEME} selected={this.selectedTheme === DARK_THEME}>\n                Escuro\n                {this.selectedTheme === DARK_THEME ? ' ✔' : ''}\n              </option>\n            </select>\n          </div>\n        </alc-field>\n      </Host>\n    );\n  }\n\n}\n"],"version":3}